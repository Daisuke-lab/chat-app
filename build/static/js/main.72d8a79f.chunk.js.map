{"version":3,"sources":["../node_modules/peerjs/dist sync","store/actions/actionType.js","store/reducers/auth_reducer.js","store/reducers/profile_reducer.js","store/reducers/swipe_reducer.js","store/reducers/chat_reducer.js","store/reducers/contact_reducer.js","store/reducers/image_reducer.js","store/reducers/index.js","store/actions/auth_action.js","assets/home_page4.jpg","Authentication/Home.js","store/actions/swipe_action.js","store/actions/image_action.js","Authentication/Login.js","store/actions/profile_action.js","store/actions/contact_action.js","Authentication/Signup.js","Authentication/Activate.js","Authentication/PasswordReset.js","Authentication/PasswordResetConfirm.js","Swipe/Header.js","Swipe/Footer.js","Swipe/MatchedCard.js","store/actions/chat_action.js","Swipe/Match.js","Swipe/Card.js","Swipe/Cards.js","Setting/Profile.js","Setting/Setting.js","Setting/Crop.js","Setting/DeleteImageModal.js","Setting/ImagesBox.js","Setting/Editor.js","Chat/WebSocket.js","Chat/MessageHandler.js","Chat/FriendCard.js","Chat/FriendProfile.js","Chat/TimeHandler.js","Chat/Chat.js","Chat/ChatPanel.js","Chat/ChatPanels.js","Video/connection2.js","Video/Video.js","App.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","LOGIN_SUCCESS","LOGIN_FAIL","LOAD_USER_SUCCESS","LOAD_USER_FAIL","AUTHENTICATED_SUCCESS","AUTEHNTICATED_FAIL","PASSWORD_RESET_SUCCESS","PASSWORD_RESET_FAIL","PASSWORD_RESET_CONFIRM_SUCCESS","PASSWORD_RESET_CONFIRM_FAIL","LOG_OUT","SIGNUP_SUCCESS","SIGNUP_FAIL","ACTIVATION_SUCCESS","ACTIVATION_FAIL","PROFILE_CREATE_SUCCESS","PROFILE_CREATE_FAIL","PROFILE_RECEIVE_SUCCESS","PROFILE_RECEIVE_FAIL","PROFILE_UPDATE_SUCCESS","PROFILE_UPDATE_FAIL","PROFILE_DELETE_SUCCESS","PROFILE_DELETE_FAIL","IMGAE_CREATE_SUCCESS","IMAGE_CREATE_FAIL","IMAGE_RECEIVE_SUCCESS","IMAGE_RECEIVE_FAIL","IMAGE_DELETE_SUCCESS","IMAGE_DELETE_FAIL","SWIPE_CREATE_SUCCESS","SWIPE_CREATE_FAIL","SWIPE_RECEIVE_SUCCESS","SWIPE_RECEIVE_FAIL","SWIPE_UPDATE_SUCCESS","CARD_RECEIVE_SUCCESS","CARD_RECEIVE_FAIL","CHAT_CREATE_SUCCESS","CHAT_CREATE_FAIL","CHAT_FETCH_MESSAGES_SUCCESS","CHAT_NEW_MESSAGE_SUCCESS","CHAT_FETCH_FILES_SUCCESS","CHAT_NEW_FILE_SUCCESS","SET_FRIEND","SEND_FIRST_MESSAGE_SUCCESS","SEND_FIRST_MESSAGE_FAIL","CONTACT_CREATE_SUCCESS","CONTACT_CREATE_FAIL","CONTACT_RECEIVE_SUCCESS","CONTACT_RECEIVE_FAIL","ERROR","REMOVE_ERROR","BACK_TO_HOME","initialState","access","localStorage","getItem","refresh","isAuthenticated","name","error","activation","auth_reducer","state","action","type","payload","actionType","setItem","removeItem","console","log","null_handler","object","profile_id","age","gender","native_lan","foreign_lan","images","undefined","JSON","parse","location","time_start","time_end","intro","freeday","profile_reducer","image","stringify","geder","swipe_id","cards","swiped","liked","swipe_reducer","messages","files","latest_chat_id","friend_image","when_matched","friend_profile_id","chat_reducer","reverse","contact_id","contact_reducer","getitem","combineReducers","image_reducer","checkAuthenticated","dispatch","a","config","headers","body","token","axios","post","process","response","remove_error","connect","auth_actions","back_to_home","props","Background","window","innerWidth","width","height","backgroundSize","backgroundImage","backgroundColor","useEffect","style","className","to","onFocus","color","textAlign","fontSize","Receive","get","res","data","image_receive","login","email","password","receive_profile","reponse","request","profile_actions","receive_swipe","swipe_actions","receive_contact","contact_actions","image_actions","useState","loading","setLoading","count","setCount","formData","setFormData","onChange","target","value","IconButton","onSubmit","preventDefault","placeholder","required","onfocus","signup","re_password","profile_create","user","swipe","paylaod","swipe_create","profile","contact_create","setAccountCreated","languages","hidden","map","language","objects","uid","match","params","verify","verified","setVerified","marginTop","onClick","reset_password","requestSent","setRequestSent","reset_password_confirm","new_password","re_new_password","Header","backButton","useHistory","Footer","swipe_left","swipe_right","useStyles","makeStyles","theme","root","maxWidth","flexGrow","header","display","alignItems","paddingLeft","spacing","palette","background","default","img","overflow","expand","transform","marginLeft","marginRight","outline","transition","transitions","create","duration","shortest","expandOpen","onClose","send_first_message","content","message_id","chat_body","put","chat_res","chat_actions","classes","React","expanded","setExpanded","input","setInput","handleExpandClick","useTheme","activeStep","setActiveStep","maxSteps","length","Card","position","axis","direction","index","onChangeIndex","step","enableMouseEvents","Math","abs","src","MobileStepper","variant","steps","nextButton","Button","size","prevActiveStep","disabled","CardContent","Typography","component","CardActions","disableSpacing","clsx","aria-expanded","aria-label","Collapse","in","timeout","unmountOnExit","paragraph","modal","justifyContent","paper","boxShadow","shadows","Match","Modal","aria-labelledby","aria-describedby","open","popup","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","Fade","MatchedCard","person","OneCard","Swipe","chat_create","friend","participants","add_friend","card_receive","people","setPeople","setLastDirection","setPopup","matchedPerson","setMatchedPerson","ripple","alredyRemoved","users","childRefs","useMemo","Array","fill","i","createRef","push","includes","Number","dir","cardsLeft","filter","toBeRemoved","indexOf","current","ref","onSwipe","onCardLeftScreen","preventSwipe","zIndex","logout","padding","image_create","x","y","FormData","append","setOpen","originalSize","setOriginalSize","Image","url","onload","aspect","crop","setCrop","newCrop","parent_popup","real_x","real_y","real_width","real_height","weight","delete_image","image_id","delete","deleting_image","handleClose","fn","order","down","originalIndex","curIndex","scale","shadow","immediate","n","ImagesBox","useRef","_","remaining_list","from","v","k","newImage","setNewImage","setUrl","deleteModal","setDeleteModal","deletingImage","setDeletingImage","useSprings","springs","setSprings","image_handler","URL","createObjectURL","bind","useDrag","row_num","col_num","args","movement","delta","new_index","col_index","row_index","curCol","clamp","round","curRow","newOrder","swap","div","interpolate","s","click_handler","top","right","for","class","accept","update","account_id","profileUpdated","setProfileUpdated","encType","parseInt","sex","selected","day","WebSocketService","callbacks","this","socketRef","instace","instance","chaturl","ws_scheme","protocol","host","path","WebSocket","onopen","socketNewMessage","command","onmessage","onclose","onerror","close","parseData","Object","message","file","username","ChatID","sendMessage","messagesCallback","newMessageCallback","send","err","readyState","WebSocketInstance","getInstance","waitForSocketConnection","callback","setTimeout","sendMessageHandler","files_list","concat","messageObject","newChatMessage","initializeChat","addCallbacks","fetch_messages","new_message","fetchMessages","onHover","FriendProfile","friendData","setFriendData","then","FriendCard","time_handler","Date","toLocaleString","timeZone","split","cur_date","cur_time","cur_day","cur_month","cur_year","cur_hour","cur_minute","date","time","last_year","last_month","last_day","last_hour","last_minute","time_list","time_orderer","all_contents","sort","b","timestamp","replace","contents","text","setText","sendingImages","setSendingImages","sendingFiles","setSendingFiles","allContents","setAllContents","getBase64","cb","reader","FileReader","readAsDataURL","result","idCardBase64","onOpen","download","uuidv4","video_link","origin","link","marigin","file_name","substring","Avatar","alt","border","TextareaAutosize","rowsMax","set_friend","picture","friend_data","Chat_ID","matched_day","last_message","last_timestamp","friends","setFriends","defaults","chats_list","socketInstance","peers","streamContainer","myID","removeVideo","video","document","getElementById","remove","Connection","settings","videoContainer","streaming","initializeSocketEvents","socket","on","userID","initializePeersEvents","myPeer","userData","roomID","pathname","emit","setNavigatorToStream","reconnect","getVideoAudioStream","stream","createVideo","setPeersListeners","newUserConnection","audio","quality","myNavigator","navigator","mediaDevices","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","frameRate","noiseSuppression","min","ideal","max","createObj","srcObject","roomContainer","createElement","autoplay","muted","appendChild","call","answer","userVideoStream","metadata","connectToNewUser","destroyConnection","myMediaTracks","getTracks","forEach","track","stop","disconnect","destroy","Peer","openSocket","search","startConnection","createSocketConnectionInstance","history","exact","Home","Login","Signup","PasswordReset","PasswordResetConfirm","Activate","Chat","Video","Cards","Setting","ChatPanels","Editor","DeleteImageModal","middelware","thunk","store","createStore","reducer","composeWithDevTools","applyMiddleware","app","ReactDOM","render"],"mappings":"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","file":"static/js/main.72d8a79f.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 290;","export const LOGIN_SUCCESS = 'LOGIN_SUCCESS'\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL'\r\nexport const LOAD_USER_SUCCESS = 'LOAD_USER_SUCCESS'\r\nexport const LOAD_USER_FAIL = 'LOAD_USER_FAIL'\r\nexport const AUTHENTICATED_SUCCESS = 'AUTHENTICATED_SUCCESS'\r\nexport const AUTEHNTICATED_FAIL = 'AUTHENTICATED_FAIL'\r\nexport const PASSWORD_RESET_SUCCESS = 'AUTHENTICATED_SUCCESS'\r\nexport const PASSWORD_RESET_FAIL = 'AUTHENTICATED_FAIL'\r\nexport const PASSWORD_RESET_CONFIRM_SUCCESS = 'AUTHENTICATED_SUCCESS'\r\nexport const PASSWORD_RESET_CONFIRM_FAIL = 'AUTHENTICATED_FAIL'\r\nexport const LOG_OUT = 'LOG_OUT'\r\nexport const SIGNUP_SUCCESS = 'SIGNUP_SUCCESS'\r\nexport const SIGNUP_FAIL = 'SIGNUP_FAIL'\r\nexport const ACTIVATION_SUCCESS = 'ACTIVATION_SUCCESS'\r\nexport const ACTIVATION_FAIL = 'ACTIVATION_FAIL'\r\n\r\nexport const PROFILE_CREATE_SUCCESS = 'PROFILE_CREATE_SUCCESS'\r\nexport const PROFILE_CREATE_FAIL = 'PROFILE_CREATE_FAIL'\r\nexport const PROFILE_RECEIVE_SUCCESS = 'PROFILE_RECEIVE_SUCCESS'\r\nexport const PROFILE_RECEIVE_FAIL = 'PROFILE_RECEIVE_FAIL'\r\nexport const PROFILE_UPDATE_SUCCESS = 'PROFILE_UPDATE_SUCCESS'\r\nexport const PROFILE_UPDATE_FAIL = 'PROFILE_UPDATE_FAIL'\r\nexport const PROFILE_DELETE_SUCCESS = 'PROFILE_DELETE_SUCCESS'\r\nexport const PROFILE_DELETE_FAIL = 'PROFILE_DELETE_FAIL'\r\n\r\n\r\nexport const IMGAE_CREATE_SUCCESS = 'IMGAE_CREATE_SUCCESS'\r\nexport const IMAGE_CREATE_FAIL = 'IMAGE_CREATE_FAIL'\r\nexport const IMAGE_RECEIVE_SUCCESS = 'IMAGE_RECEIVE_SUCCESS'\r\nexport const IMAGE_RECEIVE_FAIL = 'IMAGE_RECEIVE_FAIL'\r\nexport const IMAGE_DELETE_SUCCESS = 'IMAGE_DELETE_SUCCESS'\r\nexport const IMAGE_DELETE_FAIL = 'IMAGE_DELETE_FAIL'\r\n\r\n\r\nexport const SWIPE_CREATE_SUCCESS = 'SWIPE_CREATE_SUCCESS'\r\nexport const SWIPE_CREATE_FAIL = 'SWIPE_CREATE_FAIL'\r\nexport const SWIPE_RECEIVE_SUCCESS = 'SWIPE_RECEIVE_SUCCESS'\r\nexport const SWIPE_RECEIVE_FAIL = 'SWIPE_RECEIVE_FAIL'\r\nexport const SWIPE_UPDATE_SUCCESS = 'SWIPE_UPDATE_SUCCESS'\r\nexport const SWIPE_UPDATE_FAIL = 'SWIPE_UPDATE_FAIL'\r\nexport const SWIPE_DELETE_SUCCESS = 'SWIPE_DELETE_SUCCESS'\r\nexport const SWIPE_DELETE_FAIL = 'SWIPE_DELETE_FAIL'\r\nexport const CARD_RECEIVE_SUCCESS = 'CARD_RECEIVE_SUCCESS'\r\nexport const CARD_RECEIVE_FAIL = 'CARD_RECEIVE_FAIL'\r\n\r\nexport const CHAT_CREATE_SUCCESS = 'CHAT_CREATE_SUCCESS'\r\nexport const CHAT_CREATE_FAIL = 'CHAT_CREATE_SUCCESS'\r\nexport const CHAT_FETCH_MESSAGES_SUCCESS = 'CHAT_FETCH_MESSAGES_SUCCESS'\r\nexport const CHAT_FETCH_MESSAGES_FAIL = 'CHAT_FETCH_MESSAGES_FAIL'\r\nexport const CHAT_NEW_MESSAGE_SUCCESS = 'CHAT_NEW_MESSAGE_SUCCESS'\r\nexport const CHAT_NEW_MESSAGE_FAIL = 'CHAT_NEW_MESSAGE_FAIL'\r\nexport const CHAT_DELETE_SUCCESS = 'CHAT_DELETE_SUCCESS'\r\nexport const CHAT_DELETE_FAIL = 'CHAT_DELETE_FAIL'\r\nexport const CHAT_FETCH_FILES_SUCCESS = 'CHAT_FETCH_FILES_SUCCESS'\r\nexport const CHAT_FETCH_FILES_FAIL = 'CHAT_FETCH_FILES_FAIL'\r\nexport const CHAT_NEW_FILE_SUCCESS = 'CHAT_NEW_FILE_SUCCESS'\r\nexport const CHAT_NEW_FILE_FAIL = 'CHAT_NEW_FILE_FAIL'\r\nexport const BACK_TO_CHATPANEL = 'BACK_TO_CHATPANEL'\r\nexport const SET_FRIEND = 'SET_FRIEND'\r\nexport const GET_FRIEND_PROFILE = 'GET_FRIEND_PROFILE'\r\nexport const SEND_FIRST_MESSAGE_SUCCESS = 'SEND_FIRST_MESSAGE_SUCCESS'\r\nexport const SEND_FIRST_MESSAGE_FAIL = 'SEND_FIRST_MESSAGE_FAIL'\r\n\r\nexport const CONTACT_CREATE_SUCCESS = 'CONTACT_CREATE_SUCCESS'\r\nexport const CONTACT_CREATE_FAIL = 'CONTACT_CREATE_FAIL'\r\nexport const CONTACT_RECEIVE_SUCCESS = 'CONTACT_RECEIVE_SUCCESS'\r\nexport const CONTACT_RECEIVE_FAIL = 'CONTACT_RECEIVE_FAIL'\r\nexport const CONTACT_UPDATE_SUCCESS = 'CONTACT_UPDATE_SUCCESS'\r\nexport const CONTACT_UPDATE_FAIL = 'CONTACT_UPDATE_FAIL'\r\nexport const CONTACT_DELETE_SUCCESS = 'CONTACT_DELETE_SUCCESS'\r\nexport const CONTACT_DELETE_FAIL = 'CONTACT_DELETE_FAIL'\r\n\r\nexport const ERROR = \"ERROR\"\r\nexport const REMOVE_ERROR = \"REMOVE_ERROR\"\r\nexport const BACK_TO_HOME = \"BACK_TO_HOME\"\r\n\r\n","import * as actionType from '../actions/actionType'\r\n\r\nconst initialState = {\r\n    access: localStorage.getItem('access'),\r\n    refresh: localStorage.getItem('refresh'),\r\n    isAuthenticated: false,\r\n    name: localStorage.getItem('name'),\r\n    id: localStorage.getItem('id'),\r\n    error: '',\r\n    activation: ''\r\n}\r\n\r\nfunction auth_reducer(state = initialState, action)  {\r\n    const {type, payload} = action\r\n\r\n\r\n    switch(type) {\r\n        case actionType.LOGIN_SUCCESS:\r\n            localStorage.setItem('access', payload.access)\r\n            localStorage.setItem('refresh', payload.refresh)\r\n            return {\r\n                ...state,\r\n                isAuthenticated: true,\r\n                access: payload.access,\r\n                refresh: payload.refresh,\r\n                id: payload.id\r\n            }\r\n\r\n        \r\n        case actionType.LOGIN_FAIL:\r\n        case actionType.SIGNUP_FAIL:\r\n        case actionType.LOG_OUT:\r\n            localStorage.removeItem('name')\r\n            localStorage.removeItem('access')\r\n            localStorage.removeItem('refresh')\r\n            localStorage.removeItem('id')\r\n        \r\n            return {\r\n                ...state,\r\n                access: null,\r\n                refresh: null,\r\n                isAuthenticated: false,\r\n                name: null,\r\n                id: null  \r\n            }\r\n        \r\n            \r\n        case actionType.LOAD_USER_SUCCESS:\r\n            localStorage.setItem('id', payload.id)\r\n            localStorage.setItem('name', payload.name)\r\n            return {\r\n                ...state,\r\n                name: payload.name,\r\n                id: payload.id\r\n            }\r\n        \r\n        case actionType.LOAD_USER_FAIL:\r\n            return {\r\n                ...state,\r\n                access: null,\r\n                refresh: null,\r\n                isAuthenticated: false,\r\n                name: null,\r\n                id: null\r\n            }\r\n\r\n        case actionType.AUTHENTICATED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                name: payload.name\r\n            }\r\n        \r\n        case actionType.AUTEHNTICATED_FAIL:\r\n            return {\r\n                ...state,\r\n                name: null,\r\n                id: null\r\n            }\r\n\r\n        case actionType.SIGNUP_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isAuthenticated: true,\r\n                id: payload.id,\r\n                activation: \"Your account's been created successfully! Check your email and activate your account.\"\r\n\r\n            }\r\n        case actionType.PASSWORD_RESET_SUCCESS:\r\n        case actionType.PASSWORD_RESET_FAIL:\r\n        case actionType.PASSWORD_RESET_CONFIRM_SUCCESS:\r\n        case actionType.PASSWORD_RESET_CONFIRM_FAIL:\r\n        case actionType.ACTIVATION_FAIL:\r\n        case actionType.ACTIVATION_SUCCESS:\r\n            return {\r\n                ...state,\r\n            }\r\n        case actionType.ERROR:\r\n            console.log('error', payload)\r\n            return {\r\n                ...state,\r\n                error: payload\r\n            }\r\n\r\n        case actionType.REMOVE_ERROR:\r\n            return {\r\n                ...state,\r\n                error: ''\r\n            }\r\n\r\n        case actionType.BACK_TO_HOME:\r\n            return {\r\n                ...state,\r\n                isAuthenticated: null\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport default auth_reducer\r\n","import * as actionType from '../actions/actionType'\r\n\r\nfunction null_handler(object) {\r\n    var new_object\r\n    if (object === 'null' || object === null) {\r\n        new_object = ''\r\n    } else {\r\n        new_object = object\r\n    }\r\n    return new_object\r\n}\r\n\r\nconst initialState = {\r\n    profile_id: localStorage.getItem('profile_id'),\r\n    name: localStorage.getItem('name'),\r\n    age: localStorage.getItem('age'),\r\n    gender: localStorage.getItem('gender'),\r\n    native_lan:  localStorage.getItem('native_lan'),\r\n    foreign_lan: localStorage.getItem('foreign_lan'),\r\n    images:localStorage.getItem('profile_images')!== undefined?JSON.parse(localStorage.getItem('profile_images')):undefined,\r\n    location: localStorage.getItem('location'),\r\n    time_start: (localStorage.getItem('time_start') !== 'null'? localStorage.getItem('time_start'): ''),\r\n    time_end: null_handler(localStorage.getItem('time_end')),\r\n    intro: (localStorage.getItem('intro') !=='null'? localStorage.getItem('intro'): ''),\r\n    freeday: (localStorage.getItem('freeday') !=='null'? localStorage.getItem('freeday'): ''),\r\n}\r\n\r\n// it is not receive to setitem, but create isn't it\r\n// but you do so, you need to set when you update it\r\nfunction profile_reducer(state=initialState, action) {\r\n    const {type, payload} = action\r\n\r\n    switch(type) {\r\n        case actionType.PROFILE_RECEIVE_SUCCESS:\r\n        case actionType.PROFILE_UPDATE_SUCCESS:\r\n            console.log('PROFILE REDUCER')\r\n            var image_path\r\n            if (null_handler(payload.image) !== '') {\r\n                //`${process.env.REACT_APP_API_URL}${payload.image}`\r\n                image_path = payload.image\r\n            } else {\r\n                image_path = ''\r\n            }\r\n            localStorage.setItem('profile_id', payload.id)\r\n            localStorage.setItem('name', payload.name)\r\n            localStorage.setItem('age', payload.age)\r\n            localStorage.setItem('gender', payload.gender)\r\n            localStorage.setItem('native_lan', payload.native_lan)\r\n            localStorage.setItem('foreign_lan', payload.foreign_lan)\r\n            localStorage.setItem('profile_images', JSON.stringify(payload.images))\r\n            localStorage.setItem('location', payload.location)\r\n            localStorage.setItem('time_start', payload.time_start)\r\n            localStorage.setItem('time_end', payload.time_end)\r\n            localStorage.setItem('intro', payload.intro)\r\n            localStorage.setItem('freeday', payload.freeday)\r\n            return {\r\n                ...state,\r\n                profile_id: payload.id,\r\n                name: payload.name,\r\n                age: payload.age,\r\n                gender: payload.geder,\r\n                native_lan:  payload.native_lan,\r\n                foreign_lan: payload.foreign_lan,\r\n                images:payload.images,\r\n                location: payload.location,\r\n                time_start: null_handler(payload.time_start),\r\n                time_end: null_handler(payload.time_end),\r\n                intro: payload.intro,\r\n                freeday: payload.freeday,\r\n            }\r\n\r\n\r\n        case actionType.PROFILE_DELETE_SUCCESS:\r\n        case actionType.LOG_OUT:\r\n            localStorage.removeItem('profile_id')\r\n            localStorage.removeItem('name')\r\n            localStorage.removeItem('age')\r\n            localStorage.removeItem('gender')\r\n            localStorage.removeItem('native_lan')\r\n            localStorage.removeItem('foreign_lan')\r\n            localStorage.removeItem('profile_images')\r\n            localStorage.removeItem('location')\r\n            localStorage.removeItem('time_start')\r\n            localStorage.removeItem('time_end')\r\n            localStorage.removeItem('intro')\r\n            localStorage.removeItem('freeday')\r\n            return {\r\n                ...state,\r\n                profile_id: null,\r\n                name: null,\r\n                age: null,\r\n                gender: null,\r\n                native_lan:  null,\r\n                foreign_lan: null,\r\n                images:null,\r\n                location: null,\r\n                time_start: null,\r\n                time_end:null,\r\n                intro: null,\r\n                freeday: null,\r\n\r\n            }\r\n            \r\n        case actionType.PROFILE_CREATE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile_id: payload.id\r\n            }\r\n\r\n        case actionType.PROFILE_UPDATE_FAIL:\r\n        case actionType.PROFILE_RECEIVE_FAIL:\r\n        case actionType.PROFILE_DELETE_FAIL:\r\n            return {\r\n                ...state\r\n            }\r\n\r\n        case actionType.SWIPE_UPDATE_SUCCESS:\r\n            return {\r\n                ...state,\r\n            }\r\n\r\n        default:\r\n            return {\r\n                ...state\r\n            }\r\n    }\r\n}\r\n\r\nexport default profile_reducer","import * as actionType from '../actions/actionType'\r\n\r\nconst initialState = {\r\n    swipe_id: localStorage.getItem('swipe_id'),\r\n    cards: localStorage.getItem('cards') !== undefined?JSON.parse(localStorage.getItem('cards')):undefined,\r\n    swiped: localStorage.getItem('swiped') !== undefined?JSON.parse(localStorage.getItem('swiped')):undefined,\r\n    liked: localStorage.getItem('liked') !== undefined?JSON.parse(localStorage.getItem('liked')):undefined,\r\n}\r\n\r\nfunction swipe_reducer(state=initialState, action) {\r\n    const {type, payload} = action\r\n\r\n    switch(type) {\r\n        case actionType.SWIPE_CREATE_SUCCESS:\r\n        //localStorage.setItem('swipe_id', payload.id)\r\n            return {\r\n                ...state,\r\n                swipe_id: payload.id\r\n            }\r\n\r\n        case actionType.SWIPE_RECEIVE_SUCCESS:\r\n            localStorage.setItem('swipe_id', payload.id)\r\n            localStorage.setItem('swiped', JSON.stringify(payload.swiped))\r\n            localStorage.setItem('liked', JSON.stringify(payload.liked))\r\n            //localStorage.setItem('card', [])\r\n            return {\r\n                ...state,\r\n                swipe_id: payload.id,\r\n                swiped: payload.swiped,\r\n                liked: payload.liked,\r\n               // cards: []\r\n            }\r\n\r\n        case actionType.SWIPE_CREATE_FAIL:\r\n        case actionType.SWIPE_RECEIVE_FAIL:\r\n        case actionType.CARD_RECEIVE_FAIL:\r\n            return {\r\n                ...state,\r\n            }\r\n\r\n        case actionType.LOG_OUT:\r\n            localStorage.removeItem('swipe_id')\r\n            localStorage.removeItem('swiped')\r\n            localStorage.removeItem('liked')\r\n            localStorage.removeItem('cards')\r\n            return {\r\n                ...state\r\n            }\r\n\r\n        case actionType.CARD_RECEIVE_SUCCESS:\r\n            localStorage.setItem('cards', JSON.stringify(payload))\r\n            return {\r\n                ...state,\r\n                cards: payload\r\n            }\r\n\r\n        default:\r\n            return {\r\n                ...state\r\n            }\r\n    }\r\n}\r\n\r\n\r\nexport default swipe_reducer\r\n\r\n","import * as actionType from '../actions/actionType'\r\n\r\nconst initialState = {\r\n    messages: [],\r\n    files: [],\r\n    latest_chat_id: localStorage.getItem('latest_chat_id'),\r\n    friend_image: localStorage.getItem('friend_image'),\r\n    when_matched:localStorage.getItem('when_matched'),\r\n    friend_profile_id: localStorage.getItem('friend_profile_id')\r\n}\r\n\r\nfunction chat_reducer(state=initialState, action) {\r\n    const {type, payload} = action\r\n\r\n    switch(type) {\r\n        case actionType.CHAT_CREATE_SUCCESS:\r\n            console.log(payload)\r\n            localStorage.setItem('latest_chat_id', payload.id)\r\n            return {\r\n                ...state,\r\n                latest_chat_id: payload.id\r\n            }\r\n\r\n        case actionType.CHAT_CREATE_FAIL:\r\n        case actionType.SEND_FIRST_MESSAGE_FAIL:\r\n            return {\r\n                ...state\r\n            }\r\n\r\n        case actionType.CHAT_FETCH_MESSAGES_SUCCESS:\r\n            return {\r\n                ...state,\r\n                messages: payload.reverse()\r\n            }\r\n        case actionType.CHAT_NEW_MESSAGE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, payload[0]]\r\n            }\r\n\r\n        case actionType.CHAT_FETCH_FILES_SUCCESS:\r\n            return {\r\n                ...state,\r\n                files: payload.reverse()\r\n            }\r\n        case actionType.CHAT_NEW_FILE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                files: [...state.files, payload[0]]\r\n            }\r\n\r\n        case actionType.SET_FRIEND:\r\n            localStorage.setItem('friend_image', payload.image)\r\n            localStorage.setItem('when_matched', payload.when_matched)\r\n            localStorage.setItem('friend_profile_id', payload.friend_profile_id)\r\n            return {\r\n                ...state,\r\n                friend_image: payload.image,\r\n                when_matched: payload.when_matched,\r\n                friend_profile_id: payload.friend_profile_id\r\n            }\r\n\r\n        case actionType.LOG_OUT:\r\n            localStorage.removeItem('friend_image')\r\n            localStorage.removeItem('when_matched')\r\n            localStorage.removeItem('friend_profile_id')\r\n            return {\r\n                ...state,\r\n                friend_image:null,\r\n                when_matched: null,\r\n                friend_profile_id:null\r\n            }\r\n\r\n        case actionType.SEND_FIRST_MESSAGE_SUCCESS:\r\n            return {\r\n                ...state\r\n            }\r\n\r\n        default:\r\n            return {\r\n                ...state\r\n            }\r\n    }\r\n}\r\n\r\nexport default chat_reducer","import * as actionType from '../actions/actionType'\r\n\r\nconst initialState = {\r\n    contact_id: localStorage.getItem('contact_id')\r\n}\r\n\r\nfunction contact_reducer(state=initialState, action) {\r\n    const {type, payload} = action\r\n\r\n    switch(type) {\r\n        case actionType.CONTACT_CREATE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                contact_id: payload.id\r\n            }\r\n\r\n        case actionType.CONTACT_CREATE_FAIL:\r\n        case actionType.CONTACT_RECEIVE_FAIL:\r\n            return {\r\n                ...state\r\n            }\r\n\r\n        case actionType.CONTACT_RECEIVE_SUCCESS:\r\n            localStorage.setItem('contact_id', payload.id)\r\n            return {\r\n                ...state,\r\n                contact_id: payload.id\r\n            }\r\n\r\n        case actionType.LOG_OUT:\r\n            localStorage.removeItem('contact_id')\r\n            return {\r\n                ...state,\r\n                contact_id:null\r\n            }\r\n\r\n        default:\r\n            return {\r\n                ...state\r\n            }\r\n\r\n    }\r\n}\r\n\r\nexport default contact_reducer","import * as actionType from '../actions/actionType'\r\n\r\n\r\nconst initialState = {\r\n    images: localStorage.getitem('iuamges')!== undefined ? JSON.parse(localStorage.getItem('images')): undefined,\r\n}\r\n\r\n\r\nexport default function image_reducer(state=initialState, action) {\r\n    const {type, payload} = action\r\n\r\n    switch(type) {\r\n        case actionType.IMGAE_CREATE_SUCCESS:\r\n            return {\r\n                ...state,\r\n            }\r\n        case actionType.IMAGE_RECEIVE_SUCCESS:\r\n            localStorage.setItem('images', JSON.stringify(payload.images))\r\n            return {\r\n                ...state,\r\n                images: [...payload.images]\r\n            }\r\n        case actionType.IMAGE_CREATE_FAIL:\r\n        case actionType.IMAGE_DELETE_FAIL:\r\n        case actionType.IMAGE_RECEIVE_FAIL:\r\n        case actionType.IMAGE_DELETE_SUCCESS:\r\n            return {\r\n                ...state\r\n            }\r\n        case actionType.LOG_OUT:\r\n            localStorage.removeItem('images')\r\n            return {\r\n                ...state,\r\n                images: null\r\n            }\r\n\r\n        default:\r\n            return {\r\n                ...state\r\n            }\r\n    }\r\n\r\n}","import { combineReducers } from 'redux'\r\nimport auth_reducer from './auth_reducer'\r\nimport profile_reducer from './profile_reducer'\r\nimport swipe_reducer from './swipe_reducer'\r\nimport chat_reducer from './chat_reducer'\r\nimport contact_reducer from './contact_reducer'\r\nimport image_reducer from \"./image_reducer\";\r\nexport default combineReducers({\r\n    auth_reducer,\r\n    profile_reducer,\r\n    swipe_reducer,\r\n    chat_reducer,\r\n    contact_reducer,\r\n    image_reducer\r\n})","import * as actionType from './actionType'\r\nimport axios from 'axios'\r\nexport const load_user = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n                'Accept': 'application/json'\r\n            }\r\n        }\r\n        try {\r\n            // use shift and @ instead of shift and 7\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/auth/users/me/`, config)\r\n            console.log('data in load::', res.data)\r\n            dispatch({\r\n                type: actionType.LOAD_USER_SUCCESS,\r\n                payload: res.data})\r\n        } catch (err) {\r\n            dispatch({\r\n                    type: actionType.LOAD_USER_FAIL,\r\n                    payload: \"An error occured. Please try again.\"})\r\n            }\r\n    } else {\r\n        console.log('no access')\r\n        dispatch({\r\n            type: actionType.LOAD_USER_FAIL,\r\n            payload: \"An error occured. Please try again\"})\r\n    }\r\n}\r\nexport const login = (email, password) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    const body = JSON.stringify({email, password})\r\n\r\n    try {\r\n        const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/jwt/create/`, body, config)\r\n        console.log(res.data)\r\n        dispatch({\r\n            type: actionType.LOGIN_SUCCESS,\r\n            payload: res.data})\r\n\r\n        dispatch(load_user())\r\n    } catch (err) {\r\n        dispatch({\r\n            type: actionType.LOGIN_FAIL,\r\n            payload: \"Email or password is invalid.\"})\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            payload: \"Email or password is invalid.\"})\r\n    }\r\n}\r\n\r\nexport const checkAuthenticated = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json'\r\n            }\r\n        }\r\n        const body = JSON.stringify({ token: localStorage.getItem('access')})\r\n        try {\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/jwt/verify/`, body, config)\r\n\r\n            if (res !== 'token_not_valid') {\r\n                dispatch({\r\n                    type: actionType.AUTHENTICATED_SUCCESS\r\n                })\r\n            } else {\r\n                dispatch({\r\n                    type: actionType.AUTEHNTICATED_FAIL})\r\n                dispatch({\r\n                    type: actionType.ERROR,\r\n                    payload:'Token is not valid' })\r\n        }\r\n            \r\n        } catch(err) {\r\n            dispatch({\r\n                type: actionType.AUTEHNTICATED_FAIL,\r\n            })\r\n            dispatch({\r\n                type: actionType.ERROR,\r\n                payload: err.response})\r\n            \r\n        }\r\n        \r\n    } else {\r\n        dispatch({\r\n            type: actionType.AUTEHNTICATED_FAIL,\r\n            payload: 'An error occured. Please try again'\r\n        })\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            payload: 'An error occured. Please try again'})\r\n    }\r\n}\r\n\r\nexport const logout = () => dispatch => {\r\n    dispatch({\r\n        type: actionType.LOG_OUT\r\n    })\r\n}\r\n\r\nexport const reset_password = (email) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    const body = JSON.stringify({email})\r\n\r\n    try {\r\n        const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/users/reset_password/`, body, config)\r\n        dispatch({\r\n            type: actionType.PASSWORD_RESET_SUCCESS,\r\n            payload: res.data})\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: actionType.PASSWORD_RESET_FAIL,\r\n            payload: err.response})\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            payload: err.response})\r\n    }\r\n}\r\n\r\nexport const reset_password_confirm = (uid, token, new_password, re_new_password) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    const body = JSON.stringify({uid, token, new_password, re_new_password})\r\n    console.log('PASSWORD_RESET_CONFIRM')\r\n    try {\r\n        await axios.post(`${process.env.REACT_APP_API_URL}/auth/users/reset_password_confirm/`, body, config)\r\n        dispatch({\r\n            type: actionType.PASSWORD_RESET_CONFIRM_SUCCESS})\r\n    } catch (err) {\r\n        dispatch({\r\n            type: actionType.PASSWORD_RESET_CONFIRM_FAIL,\r\n            payload: err.response})\r\n\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            payload: err.response})\r\n    }\r\n}\r\n\r\nexport const signup = (name, email, password, re_password) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    const body = JSON.stringify({name, email, password, re_password})\r\n\r\n    try {\r\n        const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/users/`, body, config)\r\n        //{name: \"lol\", email: \"jeorgia.zr@gmail.com\", id: 2}\r\n        dispatch({\r\n            type: actionType.SIGNUP_SUCCESS,\r\n            payload: res.data})\r\n        \r\n\r\n    } catch (err) {\r\n        console.log(err)\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            payload: err.response.request.response})\r\n        dispatch({\r\n            type: actionType.SIGNUP_FAIL,\r\n            payload: err.response.request.response})\r\n    }\r\n\r\n}\r\n\r\nexport const verify = (uid, token) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    const body = JSON.stringify({uid, token})\r\n\r\n    try {\r\n        const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/users/activation/`, body, config)\r\n        dispatch({\r\n            type: actionType.ACTIVATION_SUCCESS,\r\n            payload: res.data})\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: actionType.ACTIVATION_FAIL,\r\n            payload: err})\r\n\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            payload: err})\r\n        \r\n    }\r\n}\r\n\r\nexport const remove_error = () => dispatch => {\r\n    dispatch({\r\n        type: actionType.REMOVE_ERROR\r\n    })\r\n}\r\n\r\nexport const back_to_home = () => dispatch => {\r\n    dispatch({\r\n        type: actionType.BACK_TO_HOME\r\n    })\r\n}","export default __webpack_public_path__ + \"static/media/home_page4.fe3e870c.jpg\";","import React, {useEffect}from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport image from '../assets/home_page4.jpg'\r\nimport SpaIcon from '@material-ui/icons/Spa';\r\nimport '../assets/Authentication/Home.css'\r\nimport * as auth_actions from '../store/actions/auth_action'\r\nconst Home = (props) => {\r\n    var Background\r\n    if (window.innerWidth > 650) {\r\n        Background = {\r\n            width: '100%',\r\n            height: '800px',\r\n            backgroundSize: 'cover',\r\n            backgroundImage: `url(${image})`\r\n        }\r\n    } else {\r\n        Background = {\r\n            width: '100%',\r\n            height: '800px',\r\n            backgroundSize: 'cover',\r\n            backgroundColor: '#ec7878'\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        props.remove_error()\r\n        props.back_to_home()\r\n        console.log(process.env.REACT_APP_API_URL)\r\n    }, [])\r\n    return (\r\n        <div style={Background} className='home'>\r\n            <div className='home_title'><SpaIcon id='home_logo'/><h1>Speak Up</h1></div>\r\n            <h1 className={window.innerWidth > 650?'home_intro':'home_intro2'}>\r\n                Find Your Language Exchange Partner!!</h1>\r\n            <Link to='/login'>\r\n            <button className='home_button1' onFocus=\"this.blur();\"><span>Sign In</span></button>\r\n            </Link>\r\n            <Link to='/signup'>\r\n            <button className='home_button2' onFocus=\"this.blur();\"><span>Sign Up</span></button>\r\n            </Link>\r\n            <p style={{color: \"yellow\", textAlign: 'center', fontSize:'25px'}}>{props.activation}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapstateToProps = state => {\r\n    return {\r\n        activation: state.auth_reducer.activation\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        remove_error: () => dispatch(auth_actions.remove_error()),\r\n        back_to_home: () => dispatch(auth_actions.back_to_home())\r\n    }\r\n}\r\n\r\nexport default connect(mapstateToProps, mapDispatchToProps)(Home)","import * as actionType from './actionType'\r\nimport axios from 'axios'\r\n\r\nexport const Create = (user) => async dispatch =>{\r\n    console.log(JSON.stringify({user}))\r\n    if (user != null) {\r\n        try {\r\n            const config = {\r\n                headers : {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            }\r\n            const body = JSON.stringify({user})\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/swipe/create/`, body, config)\r\n            dispatch({\r\n                type: actionType.SWIPE_CREATE_SUCCESS,\r\n                payload: res.data\r\n            })\r\n        \r\n        } catch(err) {\r\n            dispatch({\r\n                type: actionType.SWIPE_CREATE_FAIL,\r\n                payload: err.response.request.response\r\n            })\r\n            dispatch({\r\n                type: actionType.ERROR,\r\n                payload: err.response.request.response})\r\n        }\r\n    } else {\r\n        dispatch({\r\n            type: actionType.SWIPE_CREATE_FAIL\r\n        })\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            payload: \"An error occured. Please try again.\"})\r\n    }\r\n\r\n}\r\n\r\nexport const Receive = (id) => async dispatch => {\r\n    try {\r\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/swipe/detail/${id}/`)\r\n        dispatch({\r\n            type: actionType.SWIPE_RECEIVE_SUCCESS,\r\n            payload: res.data\r\n        })\r\n    } catch(err) {\r\n        dispatch({\r\n            type: actionType.SWIPE_RECEIVE_FAIL,\r\n            payload: err.response\r\n        })\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            payload: err.response})\r\n    }\r\n}\r\n\r\nexport const Swipe = (swipe_id, swiped, liked) => async dispatch => {\r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n        var body = null\r\n        if (liked === null) {\r\n            body = JSON.stringify({swiped})\r\n        } else {\r\n            body = JSON.stringify({swiped, liked})\r\n        }\r\n        const res = await axios.put(`${process.env.REACT_APP_API_URL}/swipe/update/${swipe_id}/`, body, config)\r\n        console.log(res.data)\r\n        dispatch({\r\n            type: actionType.SWIPE_UPDATE_SUCCESS,\r\n            payload: res.data\r\n        })\r\n    } catch(err) {\r\n        // dispatch({\r\n        //     type: actionType.SWIPE_UPDATE_FAIL,\r\n        //     payload: err.response.request.response\r\n        // })\r\n        // dispatch({\r\n        //     type: actionType.ERROR,\r\n        //     payload: err.response.request.response})\r\n    }\r\n}\r\n\r\nexport const card_receive = () => async dispatch => {\r\n    console.log('card_receive is called')\r\n    try {\r\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/profile/list/`)\r\n        console.log(JSON.stringify(res.data))\r\n        dispatch({\r\n            type: actionType.CARD_RECEIVE_SUCCESS,\r\n            payload: res.data\r\n        })\r\n    } catch(err) {\r\n        console.log(err)\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            payload: err.response})\r\n        dispatch({\r\n            type: actionType.CARD_RECEIVE_FAIL,\r\n            payload: err.response})\r\n    }\r\n}","import * as actionType from './actionType'\r\nimport axios from 'axios'\r\nimport { Receive } from './profile_action'\r\n\r\nexport const image_receive = (profile_id) => async dispatch => {\r\n    try {\r\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/profile/image/${profile_id}/`)\r\n        console.log('images::',res.data)\r\n        dispatch({\r\n            type: actionType.IMAGE_RECEIVE_SUCCESS,\r\n            payload: res.data\r\n        })\r\n    } catch(err) {\r\n        dispatch({\r\n            type: actionType.IMAGE_RECEIVE_FAIL\r\n        })\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            // payload: err\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const image_create = (id, profile_id, image, x, y, width, height) => async dispatch => {\r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data',\r\n            }\r\n        }\r\n\r\n        const formData = new FormData();\r\n        formData.append('image', image)\r\n        formData.append('x', x)\r\n        formData.append('y', y)\r\n        formData.append('width', width)\r\n        formData.append('height', height)\r\n        formData.append('album', profile_id)\r\n\r\n        const res = await axios.post(`${process.env.REACT_APP_API_URL}/profile/image/`, formData, config)\r\n        dispatch({\r\n            type: actionType.IMGAE_CREATE_SUCCESS,\r\n            payload: res.data\r\n        })\r\n        dispatch(image_receive(profile_id))\r\n    } catch(err) {\r\n        if (err.response === undefined) {\r\n            dispatch({\r\n                type: actionType.IMGAE_CREATE_SUCCESS\r\n            })\r\n            dispatch(image_receive(profile_id))\r\n        } else {\r\n        dispatch({\r\n            type: actionType.IMAGE_CREATE_FAIL\r\n        })\r\n\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            paylaod: err.response\r\n        })\r\n    }\r\n    }\r\n}\r\n\r\nexport const image_delete = (profile_id, image_id) => async dispatch => {\r\n    try {\r\n        await axios.delete(`${process.env.REACT_APP_API_URL}/profile/image/${image_id}/`)\r\n        dispatch({\r\n            type: actionType.IMAGE_DELETE_SUCCESS\r\n        })\r\n        dispatch(image_receive(profile_id))\r\n    } catch(err) {\r\n        dispatch({\r\n            type: actionType.IMAGE_DELETE_FAIL\r\n        })\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            payload: err.response\r\n        })\r\n    }\r\n}\r\n","import React, { useState, useEffect, useRef }from 'react'\r\nimport {Link, Redirect } from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport SpaIcon from '@material-ui/icons/Spa';\r\nimport { IconButton } from '@material-ui/core';\r\nimport * as auth_actions from '../store/actions/auth_action'\r\nimport * as profile_actions from '../store/actions/profile_action'\r\nimport * as swipe_actions from '../store/actions/swipe_action'\r\nimport * as contact_actions from '../store/actions/contact_action'\r\nimport * as image_actions from '../store/actions/image_action'\r\nimport '../assets/Authentication/Login.css'\r\n// import Default from '@bit/joshk.react-spinners-css.default';\r\nimport { Default } from 'react-spinners-css';\r\nconst Login = (props) => {\r\n    const [loading, setLoading] = useState(false)\r\n    const [count, setCount] = useState(0)\r\n    const [formData, setFormData] = useState({\r\n        email:'',\r\n        password:''\r\n    })\r\n    useEffect(() => {\r\n        props.remove_error()\r\n    }, [])\r\n    const {email, password} = formData\r\n    const onChange = e => setFormData({...formData, [e.target.name]: e.target.value})\r\n    const onSubmit = e => {\r\n        e.preventDefault()\r\n        setLoading(true)\r\n        props.login(email, password)\r\n        props.remove_error()\r\n        setCount(0)\r\n    }\r\n    //props.id && props.isAuthenticated\r\n    console.log('count',count)\r\n    if (props.id && count===0) {\r\n        setCount(1)\r\n        // props.receive_profile(props.id)\r\n        // props.receive_swipe(props.id)\r\n        props.receive_contact(props.id)   \r\n    }\r\n    if (props.contact_id && count===1) {\r\n        setCount(2)\r\n        props.receive_swipe(props.id)\r\n    }\r\n\r\n    if (props.swipe_id && count===2) {\r\n        setCount(3)\r\n        props.receive_profile(props.id)\r\n    }\r\n\r\n    if (props.profile_id && count===3) {\r\n        setCount(4)\r\n        props.image_receive(props.profile_id)\r\n    }\r\n    if (props.error !== '' && loading===true) {\r\n        setLoading(false)\r\n    }\r\n    \r\n  //props.contact_id && props.profile_id && props.swipe_id\r\n    if (props.images !== null) {\r\n        return <Redirect to='/swipe'/>\r\n    }\r\n\r\n\r\n    return (\r\n    <div className='login'>\r\n        <header className='login_header'>\r\n            <Link to='/'>\r\n            <IconButton id='login_back'>\r\n                <ArrowBackIosIcon/>\r\n            </IconButton>\r\n            </Link>\r\n            <div className='login_title'><SpaIcon id='login_logo'/><h1>Speak Up</h1></div>\r\n        </header>\r\n        <div className='login_form'>\r\n        <form onSubmit={e => onSubmit(e)}>\r\n                <input \r\n                className='login_input'\r\n                type='email'\r\n                placeholder='Email'\r\n                name='email'\r\n                value={email}\r\n                onChange={e => onChange(e)}\r\n                required/>\r\n                <input \r\n                className='login_input'\r\n                type='password'\r\n                placeholder='Password'\r\n                name='password'\r\n                value={password}\r\n                onChange={e => onChange(e)}\r\n                required/>\r\n                <button className='login_button' type='submit'onfocus=\"this.blur();\"><span>Log In</span></button>\r\n        </form>\r\n        <p className='mt-3'>\r\n            Don't have an account? <Link to='/signup'>Sign up</Link>\r\n        </p>\r\n        <p className='mt-3'>\r\n            Forget your password? <Link to='/reset_password'>Reset Password</Link>\r\n        </p>\r\n        <p style={{color: \"red\", textAlign: 'center'}}>{props.error}</p>\r\n        </div>\r\n        <div style={{textAlign: 'center'}}>\r\n            {loading?\r\n            <Default color=\"aqua\"/>\r\n            :<></>\r\n                }\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nconst mapstateToProps = state => {\r\n    return {\r\n    isAuthenticated: state.auth_reducer.isAuthenticated,\r\n    id: state.auth_reducer.id,\r\n    error: state.auth_reducer.error,\r\n    profile_id : state.profile_reducer.profile_id,\r\n    contact_id: state.contact_reducer.contact_id,\r\n    swipe_id: state.swipe_reducer.swipe_id,\r\n    images: state.image_reducer.images\r\n\r\n}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        login : (email, password) => dispatch(auth_actions.login(email, password)),\r\n        receive_profile : (id) => dispatch(profile_actions.Receive(id)),\r\n        receive_swipe: (id) => dispatch(swipe_actions.Receive(id)),\r\n        receive_contact: (id) => dispatch(contact_actions.Receive(id)),\r\n        remove_error: () => dispatch(auth_actions.remove_error()),\r\n        image_receive: (profile_id) => dispatch(image_actions.image_receive(profile_id))\r\n    }\r\n}\r\n\r\nexport default connect(mapstateToProps, mapDispatchToProps)(Login)","import * as actionType from './actionType'\r\nimport axios from 'axios'\r\n\r\nexport const Create = (user, name, native_lan, foreign_lan) => async dispatch => {\r\n    if (user != null) {\r\n        const config = {\r\n            headers: {\r\n            'Content-Type': 'application/json'\r\n            }\r\n        }\r\n        const body = JSON.stringify({user, name, native_lan, foreign_lan})\r\n        try {\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/profile/create/`, body, config)\r\n            dispatch({\r\n                type: actionType.PROFILE_CREATE_SUCCESS,\r\n                payload: res.data\r\n            })\r\n        } catch(err) {\r\n            dispatch({\r\n                type: actionType.PROFILE_CREATE_FAIL,\r\n                paylaod: err.reponse.request.reponse\r\n            })\r\n            dispatch({\r\n            type: actionType.ERROR,\r\n            payload: err.reponse.request.reponse})\r\n        }\r\n    } else {\r\n        dispatch({\r\n            type: actionType.PROFILE_CREATE_FAIL\r\n        })\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            payload: \"An error occured. Please try again\"})\r\n    }\r\n}\r\n\r\n\r\nexport const Receive = (id) => async dispatch => {\r\n    console.log('PROFILE')\r\n    try {\r\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/profile/detail/${id}/`)\r\n        console.log('profile::', res.data)\r\n        dispatch ({\r\n            type: actionType.PROFILE_RECEIVE_SUCCESS,\r\n            payload: res.data\r\n        })\r\n    } catch(err) {\r\n        dispatch({\r\n            type:actionType.PROFILE_RECEIVE_FAIL,\r\n            payload: err.reponse.request.reponse\r\n        })\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            payload: err.reponse.request.reponse})\r\n    }\r\n}\r\n\r\nexport const Update = (id, name, age, gender, native_lan, foreign_lan, location, time_start, time_end, intro, freeday) => async dispatch => {\r\n    console.log('time:',typeof  time_start)\r\n    try {\r\n        const config = {\r\n            headers: {'Content-Type': 'application/json',\r\n        }}\r\n\r\n        const body = JSON.stringify({name, age, gender, native_lan, foreign_lan, location, time_start,\r\n             time_end, intro, freeday})\r\n        \r\n\r\n        const res = await axios.put(`${process.env.REACT_APP_API_URL}/profile/update/${id}/`, body, config)\r\n        dispatch({\r\n            type: actionType.PROFILE_UPDATE_SUCCESS,\r\n            payload: res.data\r\n        })\r\n    } catch(err) {\r\n        dispatch({\r\n            type: actionType.PROFILE_UPDATE_FAIL,\r\n            payload: err.reponse.request.reponse.request.reponse.request.reponse\r\n        })\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            payload: err.reponse.request.reponse.request.reponse.request.reponse})\r\n    }\r\n}\r\n\r\nexport const Delete = (id) => async dispatch => {\r\n    try {\r\n        await axios.delete(`${process.env.REACT_APP_API_URL}/profile/delete/${id}/`)\r\n        dispatch({\r\n            type: actionType.PROFILE_DELETE_SUCCESS,\r\n        })\r\n    } catch(err) {\r\n        dispatch({\r\n            type: actionType.PROFILE_DELETE_FAIL,\r\n            payload: err.reponse.request.reponse.request.reponse.request.reponse\r\n        })\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            payload: err.reponse.request.reponse.request.reponse.request.reponse})\r\n    }\r\n}\r\n\r\n\r\n","import * as actionType from './actionType'\r\nimport axios from 'axios' \r\n\r\nexport const Create = (user) => async dispatch => {\r\n    if (user != null) {\r\n        const config = {\r\n            headers: {\r\n            'Content-Type': 'application/json'\r\n            }\r\n        }\r\n        const body = JSON.stringify({user})\r\n        try {\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/chat-api/contact/create/`, body, config)\r\n            dispatch({\r\n                type: actionType.CONTACT_CREATE_SUCCESS,\r\n                payload: res.data\r\n            })\r\n        } catch(err) {\r\n            dispatch({\r\n                type: actionType.CONTACT_CREATE_FAIL,\r\n                payload: err.response.request.response\r\n            })\r\n            dispatch({\r\n                type: actionType.ERROR,\r\n                payload: err.response.request.response})\r\n            \r\n        }\r\n    } else {\r\n        dispatch({\r\n            type: actionType.CONTACT_CREATE_FAIL\r\n        })\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            paylaod:'An error occured. Please try again.' })\r\n    }\r\n}\r\n\r\n\r\nexport const Receive = (id) => async dispatch => {\r\n    console.log('CONTACT')\r\n    try {\r\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/chat-api/contact/detail/${id}/`)\r\n        dispatch ({\r\n            type: actionType.CONTACT_RECEIVE_SUCCESS,\r\n            payload: res.data\r\n        })\r\n    } catch(err) {\r\n        dispatch({\r\n            type:actionType.CONTACT_RECEIVE_FAIL,\r\n            //payload: err.response\r\n        })\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            //payload: err.response\r\n        })\r\n    }\r\n}\r\n\r\nexport const Update = (id, friend) => async dispatch => {\r\n    try {\r\n        const config = {\r\n            headers: {'Content-Type': 'application/json',\r\n        }}\r\n        const body = JSON.stringify({friend})\r\n\r\n\r\n        const res = await axios.put(`${process.env.REACT_APP_API_URL}/chat-api/contact/update/${id}/`, body, config)\r\n        dispatch({\r\n            type: actionType.CONTACT_UPDATE_SUCCESS,\r\n            payload: res.data\r\n        })\r\n    } catch(err) {\r\n        dispatch({\r\n            type: actionType.CONTACT_UPDATE_FAIL,\r\n            payload: err.response.request.response\r\n\r\n        })\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            payload: err.response.request.response})\r\n    }\r\n}\r\n\r\nexport const Delete = (id) => async dispatch => {\r\n    try {\r\n        await axios.delete(`${process.env.REACT_APP_API_URL}/profile/delete/${id}/`)\r\n        dispatch({\r\n            type: actionType.CONTACT_DELETE_SUCCESS,\r\n        })\r\n    } catch(err) {\r\n        dispatch({\r\n            type: actionType.CONTACT_DELETE_FAIL,\r\n            payload: err.response.request.response\r\n        })\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            payload: err.response.request.response})\r\n    }\r\n}\r\n","import React, { useState, useEffect}from 'react'\r\nimport {Link, Redirect } from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport * as auth_actions from '../store/actions/auth_action'\r\nimport * as profile_actions from '../store/actions/profile_action'\r\nimport * as swipe_actions from '../store/actions/swipe_action'\r\nimport * as contact_actions from '../store/actions/contact_action'\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport SpaIcon from '@material-ui/icons/Spa';\r\nimport { IconButton, requirePropFactory } from '@material-ui/core';\r\nimport '../assets/Authentication/Signup.css'\r\n// import Default from '@bit/joshk.react-spinners-css.default';\r\nimport { Default } from 'react-spinners-css';\r\n\r\nconst Signup = (props) => {\r\n    const [accountCreated, setAccountCreated] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n    const [count, setCount] = useState(0)\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        email:'',\r\n        password:'',\r\n        re_password: '',\r\n        native_lan: '',\r\n        foreign_lan: ''\r\n    })\r\n    useEffect(() => {\r\n        props.remove_error()\r\n    }, [])\r\n\r\n    const {name, email, password, re_password, native_lan, foreign_lan} = formData\r\n    const onChange = e => setFormData({...formData, [e.target.name]: e.target.value})\r\n    const onSubmit = e => {\r\n        e.preventDefault()\r\n        setLoading(true)\r\n        props.signup(name, email, password, re_password)\r\n        props.remove_error()\r\n        setAccountCreated(true)\r\n    }\r\n\r\n    const loading_handler = () => {\r\n        console.log('loading_handler')\r\n        if (props.error !== '' ) {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n\r\n    if (props.id && props.isAuthenticated && count===0) {\r\n        setCount(1)\r\n        props.profile_create(props.id, name, native_lan, foreign_lan)\r\n    }\r\n\r\n    if (props.profile_id && count===1) {\r\n        setCount(2)\r\n        props.swipe_create(props.id)\r\n    }\r\n\r\n    if (props.swipe_id && count===2) {\r\n        setCount(3)\r\n        props.contact_create(props.id)\r\n    }\r\n\r\n    if (props.error !== '' && loading===true) {\r\n        setLoading(false)\r\n    }\r\n    \r\n    \r\n\r\n\r\n     \r\n\r\n    const languages = ['Arabic','Bengali','Burmese','Chinese','English','French','German','Gujarati','Hindi','Italian','Japanese','Kannada','Korean','Malayalam',\r\n'Marathi','Oriya','Panjabi','Persian','Polish','Portuguese','Russian','Spanish','Tamil','Telugu','Thai','Turkish','Ukrainian','Urdu','Vietnamese']\r\n    if (props.isAuthenticated && props.contact_id && count===3) {\r\n        return <Redirect to='/'/>\r\n    }\r\n    // if (props.id) {\r\n    //     return <Redirect to='/'/>\r\n    // }\r\n    return (\r\n    <div className='signup'>\r\n        <header className='signup_header'>\r\n            <Link to='/'>\r\n            <IconButton id='signup_back'>\r\n                <ArrowBackIosIcon/>\r\n            </IconButton>\r\n            </Link>\r\n            <div className='signup_title'><SpaIcon id='signup_logo'/><h1>Speak Up</h1></div>\r\n        </header>\r\n        <form onSubmit={e => onSubmit(e)}>\r\n            <div  className='signup_form'>\r\n            <div className='col signup_form1'>\r\n                <input className='signup_input' type='name' placeholder='Name*' name='name'\r\n                value={name} onChange={e => onChange(e)} required/>\r\n                <input className='signup_input' type='email'\r\n                placeholder='Email*' name='email' value={email} onChange={e => onChange(e)} required/>\r\n                <input className='signup_input' type='password' placeholder='Password*' name='password'\r\n                value={password} onChange={e => onChange(e)} required/>\r\n                <input className='signup_input' type='password' placeholder='Confirm Password*'\r\n                name='re_password' value={re_password} onChange={e => onChange(e)} required/>\r\n                </div>\r\n                <div className='col signup_form2'>\r\n                <div className='signup_lan'>\r\n                    What language are you fluent in?\r\n                <select className='signup_select' name='native_lan' required onChange={e => onChange(e)}>\r\n                    <option hidden>You speak ...</option>\r\n                    {languages.map((language) => {\r\n                        return <option value={language}>{language}</option>\r\n                    })}\r\n                </select>\r\n                </div>\r\n                <div className='signup_lan'>\r\n                    What do you want to learn?\r\n                <select className='signup_select' name='foreign_lan' required onChange={e => onChange(e)}>\r\n                    <option hidden>You want to learn ...</option>\r\n                    {languages.map((language) => {\r\n                        return <option value={language}>{language}</option>\r\n                    })}\r\n                </select>\r\n                </div>\r\n                </div>\r\n                </div>\r\n                <div className='signup_button'>\r\n                        <button  onFocus=\"this.blur();\" type='submit'><span>Sign Up</span></button>\r\n                </div>\r\n        </form>\r\n        <p style={{textAlign: 'center'}}>\r\n            Already have an account? <Link to='/login'>Log in</Link>\r\n        </p>\r\n        <p style={{color: \"red\", textAlign: 'center'}}>{props.error}</p>\r\n        <div style={{textAlign: 'center'}}>\r\n            {loading?\r\n            <Default color=\"palevioletred\"/>\r\n            :<></>\r\n                }\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\n\r\nconst mapstateToProps = state => ({\r\n    isAuthenticated: state.auth_reducer.isAuthenticated,\r\n    id: state.auth_reducer.id,\r\n    profile_id : state.profile_reducer.profile_id,\r\n    contact_id: state.contact_reducer.contact_id,\r\n    swipe_id: state.swipe_reducer.swipe_id,\r\n    error: state.auth_reducer.error\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        signup : (name, email, password, re_password) => dispatch(auth_actions.signup(name, email, password, re_password)),\r\n        profile_create: (user, swipe, name, native_lan, foreign_lan) => dispatch(profile_actions.Create(user, swipe, name, native_lan, foreign_lan)),\r\n        swipe_create: (profile) => dispatch(swipe_actions.Create(profile)),\r\n        contact_create: (user) => dispatch(contact_actions.Create(user)),\r\n        remove_error: () => dispatch(auth_actions.remove_error())\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapstateToProps, mapDispatchToProps)(Signup)\r\n","import React, { useState }from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport * as auth_actions from '../store/actions/auth_action'\r\n\r\nconst Activate = (props) => {\r\n    const [verified, setVerified] = useState(false)\r\n    const verify_account = e => {\r\n        console.log(props.uid, props.token)\r\n        props.verify(props.uid, props.token)\r\n        setVerified(true)\r\n    }\r\n    if (verified) {\r\n        return <Redirect to='/'/>\r\n    }\r\n    return (\r\n    <div className='eontainer mt-5'>\r\n        <div className='d-flex flex-column justify-content-center align-items-center'\r\n        style={{ marginTop: '200px'}}>\r\n            <h1>Verify your account:</h1>\r\n            <button onClick={verify_account}\r\n            style={{marginTop: '50px'}}\r\n            type='button'\r\n            className='btn btn-primary'>Verify</button>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nconst mapstateToProps = (state, objects) => {\r\n    return {\r\n    isAuthenticated: state.auth_reducer.isAuthenticated,\r\n    uid: objects.match.params.uid,\r\n    token: objects.match.params.token\r\n\r\n}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        verify : (uid, token) => dispatch(auth_actions.verify(uid, token))\r\n    }\r\n}\r\nexport default connect(mapstateToProps, mapDispatchToProps)(Activate)","import React, { useState }from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {Link, Redirect } from 'react-router-dom'\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport { IconButton } from '@material-ui/core';\r\nimport * as auth_actions from '../store/actions/auth_action'\r\nimport '../assets/Authentication/PasswordReset.css'\r\nconst PasswordReset = (props) => {\r\n    const [requestSent, setRequestSent] = useState(false)\r\n    const [formData, setFormData] = useState({\r\n        email:'',\r\n    })\r\n    const {email} = formData\r\n    const onChange = e => setFormData({...formData, [e.target.name]: e.target.value})\r\n    const onSubmit = e => {\r\n        e.preventDefault()\r\n        props.reset_password(email)\r\n        setRequestSent(true)\r\n    }\r\n    if (requestSent) {\r\n        return <Redirect to='/'/>\r\n    }\r\n    return (\r\n    <div className='password_reset'>\r\n        <header className='passowrd_reset_header'>\r\n            <Link to='/login'>\r\n            <IconButton id='password_reset_back'>\r\n                <ArrowBackIosIcon style={{fontSize: '30px'}}/>\r\n            </IconButton>\r\n            </Link>\r\n        </header>\r\n        <div className='password_reset_content'>\r\n        <h1>Request Password Reset</h1>\r\n        <form onSubmit={e => onSubmit(e)}>\r\n            <div className='form-group'>\r\n                <input \r\n                className='password_reset_input'\r\n                type='email'\r\n                placeholder='Email'\r\n                name='email'\r\n                value={email}\r\n                onChange={e => onChange(e)}\r\n                required/>\r\n            </div>\r\n            <button className='password_reset_button' type='submit'>Reset Password</button>\r\n        </form>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        reset_password: (email) => dispatch(auth_actions.reset_password(email),)\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default connect(null, mapDispatchToProps)(PasswordReset)","import React, { useState }from 'react'\r\nimport {Link, Redirect } from 'react-router-dom'\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport { IconButton } from '@material-ui/core';\r\nimport {connect} from 'react-redux'\r\nimport * as auth_actions from '../store/actions/auth_action'\r\nimport '../assets/Authentication/PasswordResetConfirm.css'\r\nconst PasswordResetConfirm = (props) => {\r\n    const [requestSent, setRequestSent] = useState(false)\r\n    const [formData, setFormData] = useState({\r\n        new_password:'',\r\n        re_new_password:''\r\n    })\r\n    console.log('token::', props.token)\r\n    const {new_password, re_new_password} = formData\r\n    const onChange = e => setFormData({...formData, [e.target.name]: e.target.value})\r\n    const onSubmit = e => {\r\n        e.preventDefault()\r\n        const uid = props.uid\r\n        const token = props.token\r\n        props.reset_password_confirm(uid, token, new_password, re_new_password)\r\n        setRequestSent(true)\r\n    }\r\n    if (requestSent) {\r\n        return <Redirect to='/'/>\r\n    }\r\n    return (\r\n    <div className='password_reset_confirm'>\r\n        <header className='passowrd_reset_confirm_header'>\r\n            <Link to='/login'>\r\n            <IconButton id='password_reset_confirm_back'>\r\n                <ArrowBackIosIcon style={{fontSize: '30px'}}/>\r\n            </IconButton>\r\n            </Link>\r\n        </header>\r\n        <div className='password_reset_confirm_content'>\r\n        <h1>Request Password Reset</h1>\r\n        <form onSubmit={e => onSubmit(e)}>\r\n            <div className='form-group'>\r\n                <input \r\n                className='password_reset_confirm_input'\r\n                type='password'\r\n                placeholder='New Pasword'\r\n                name='new_password'\r\n                value={new_password}\r\n                onChange={e => onChange(e)}\r\n                required/>\r\n            </div>\r\n            <div className='form-group'>\r\n                <input \r\n                className='password_reset_confirm_input'\r\n                type='password'\r\n                placeholder='Confirm New Password'\r\n                name='re_new_password'\r\n                value={re_new_password}\r\n                onChange={e => onChange(e)}\r\n                required/>\r\n            </div>\r\n            <button className='password_reset_confirm_button' type='submit'>Confirm Password Reset </button>\r\n        </form>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nconst mapstateToProps = (state, objects) => {\r\n    return {\r\n        uid: objects.match.params.uid,\r\n        token: objects.match.params.token,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        reset_password_confirm: (uid, token, new_password, re_new_password) => dispatch(auth_actions.reset_password_confirm(uid, token, new_password, re_new_password),)\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapstateToProps, mapDispatchToProps)(PasswordResetConfirm)","import React from 'react'\r\nimport '../assets/Swipe/Header.css'\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\r\nimport SpaIcon from '@material-ui/icons/Spa';\r\n// import ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos'\r\nimport { IconButton } from '@material-ui/core';\r\nimport {Link, useHistory} from 'react-router-dom'\r\n\r\n// there is two Header so far in App.js. the one is without variable and the other is with a variable\r\n// the first one is backButton is null so you can get PersonIcon\r\n// the second one is backButton is '/' and you can get ArrowbackIosIcon. if you click the icon. you can back to '/' which is backButton\r\nfunction Header({backButton}) {\r\n  const history = useHistory()\r\n  return (\r\n    <div className=\"header\">\r\n    <Link to='/setting'>\r\n      <IconButton id='header_icon'>\r\n      <PersonIcon fontSize='large'/>\r\n      </IconButton>\r\n    </Link>\r\n\r\n    <Link to='/swipe'>\r\n      <IconButton id='header_logo'>\r\n      <SpaIcon style={{ fontSize: 50 }}/>\r\n      </IconButton>\r\n    </Link>\r\n\r\n    <Link to='/chatpanel'>\r\n      <IconButton id='header_icon'>\r\n      <QuestionAnswerIcon fontSize='large'/>\r\n      </IconButton>\r\n    </Link>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react'\r\nimport '../assets/Swipe/Footer.css'\r\nimport ReplayIcon from '@material-ui/icons/Replay';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport { IconButton } from '@material-ui/core';\r\n\r\n\r\n\r\n\r\nfunction Footer(props) {\r\n  return (\r\n    <div className=\"footer\">\r\n      <IconButton id='swipeButtons_nope' onClick={props.swipe_left}>\r\n        <CloseIcon fontSize='large'/>\r\n      </IconButton>\r\n      <IconButton id='swipeButtons_repeat'>\r\n        <ReplayIcon fontSize='large'/>\r\n      </IconButton>\r\n      <IconButton id='swipeButtons_like' onClick={props.swipe_right}>\r\n        <FavoriteIcon fontSize='large'/>\r\n      </IconButton>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useState } from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport MobileStepper from '@material-ui/core/MobileStepper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport { connect } from 'react-redux'\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport clsx from 'clsx';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport '../assets/Swipe/Card.css'\r\nimport '../assets/Swipe/Match.css'\r\nimport * as chat_actions from '../store/actions/chat_action'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    maxWidth: 400,\r\n    flexGrow: 1,\r\n  },\r\n  header: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    height: 50,\r\n    paddingLeft: theme.spacing(4),\r\n    backgroundColor: theme.palette.background.default,\r\n  },\r\n  img: {\r\n    height: 475,\r\n    display: 'block',\r\n    maxWidth: 400,\r\n    overflow: 'hidden',\r\n    width: '100%',\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    outline: 'none',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n}));\r\n\r\nfunction OneCard(props) {\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = React.useState(false);\r\n  const [input, setInput] = useState('')\r\n\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n\r\n  const theme = useTheme();\r\n  const [activeStep, setActiveStep] = React.useState(0);\r\n  const maxSteps = props.data.images.length >0? props.data.images.length: 1\r\n\r\n  const handleNext = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n\r\n  const handleStepChange = (step) => {\r\n    setActiveStep(step);\r\n  };\r\n\r\n  function time() {\r\n    var time_range = null\r\n    props.data.time_start != null || props.data.time_end != null ?\r\n    time_range = <>{props.data.time_start}~{props.data.time_end}</>\r\n    :  time_range = (<></>)\r\n    return time_range\r\n}\r\n\r\n  function freeday() {\r\n    var freeday = null\r\n    props.data.freeday != null ?\r\n    freeday = <>freeday: {props.data.freeday}</>\r\n    :\r\n    freeday = null\r\n    return freeday\r\n  }\r\n\r\n  const onChange = (e) => {\r\n    setInput(e.target.value)\r\n  }\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.send_first_message(input, props.contact_id)\r\n    setInput('')\r\n    props.onClose(false)\r\n\r\n  }\r\n\r\n  return (\r\n      <Card id='card_root'>\r\n        <div id='card_imagebox' style={{position:'relative'}}>\r\n          <SwipeableViews\r\n            axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n            index={activeStep}\r\n            onChangeIndex={handleStepChange}\r\n            enableMouseEvents\r\n          >\r\n        {props.images === undefined?props.data.images.map((step, index) => (\r\n            <div key={props.data.name}>\r\n              {Math.abs(activeStep - index) <= 2?(\r\n                <img className={classes.img} src={step}/>\r\n              ) :null }\r\n            </div>)):props.data.images.map((step, index) => (\r\n            <div key={props.id}>\r\n              {Math.abs(activeStep - index) <= 2?(\r\n                <img className={classes.img} src={step.image}/>\r\n              ) :null }\r\n            </div>))}\r\n          </SwipeableViews>\r\n          \r\n      \r\n\r\n          <div id='card_stepper'>\r\n          <MobileStepper\r\n          variant=\"dots\"\r\n          steps={maxSteps>1? maxSteps: 0 }\r\n          position=\"static\"\r\n          activeStep={activeStep}\r\n          nextButton={\r\n            <Button size=\"small\" onClick={handleNext} disabled={activeStep === maxSteps - 1} id='outline'>\r\n              {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\r\n            </Button>\r\n          }\r\n          backButton={\r\n            <Button size=\"small\" onClick={handleBack} disabled={activeStep === 0} id='outline'>\r\n              {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\r\n            </Button>\r\n          }\r\n          />\r\n          </div>\r\n          <h1>New Match!</h1>\r\n    </div>\r\n\r\n      <IconButton id='match_icon' onClick={() => props.onClose(false)}>\r\n        <ClearIcon style={{fontSize: 'large'}}/>\r\n      </IconButton>\r\n\r\n    <CardContent>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          {props.data.name}\r\n        </Typography>\r\n      </CardContent>\r\n      <Typography style={{marginLeft: '10px'}}>native language: {props.data.native_lan}<br/>\r\n                 want to learn: {props.data.foreign_lan}<br/><br/>\r\n      </Typography>\r\n      <CardActions disableSpacing>\r\n        <IconButton\r\n          className={clsx(classes.expand, {\r\n            [classes.expandOpen]: expanded,\r\n          })}\r\n          onClick={handleExpandClick}\r\n          aria-expanded={expanded}\r\n          aria-label=\"show more\"\r\n          id='outline'\r\n        >\r\n          <ExpandMoreIcon onClick={handleExpandClick} id='outline'/>\r\n        </IconButton>\r\n      </CardActions>\r\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n        <CardContent>\r\n        <Typography paragraph>{freeday}  {time}</Typography>\r\n          <Typography className='card_intro'  paragraph>\r\n            {props.intro}\r\n          </Typography>\r\n        </CardContent>\r\n      </Collapse>\r\n      <form className='match_form' onSubmit={onSubmit}>\r\n          <input type='text' placeholder='write the first message!' className='match_input' onChange={onChange}/>\r\n          <button className='match_submit' type='submit'>SEND</button>\r\n      </form>\r\n    </Card>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state,params) => {\r\n  return {\r\n    contact_id: state.contact_reducer.contact_id,\r\n    data: params.data,\r\n    onClose: params.onClose\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    send_first_message: (content, contact_id) => dispatch(chat_actions.send_first_message(content, contact_id))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(OneCard);\r\n","import * as actionType from './actionType'\r\nimport axios from 'axios'\r\n\r\nexport const Create = (user, friend) => async dispatch => {\r\n    if (user != null) {\r\n        const config = {\r\n            headers: {\r\n            'Content-Type': 'application/json'\r\n            }\r\n        }\r\n        const body = JSON.stringify({participants: [user, friend]})\r\n        try {\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/chat-api/chat/create/`, body, config)\r\n            console.log(res.data)\r\n            dispatch({\r\n                type: actionType.CHAT_CREATE_SUCCESS,\r\n                payload: res.data\r\n            })\r\n        } catch(err) {\r\n            dispatch({\r\n                type: actionType.CHAT_CREATE_FAIL,\r\n                payload: err.response.request.response\r\n            })\r\n            dispatch({\r\n                type: actionType.ERROR,\r\n                payload: err.response.request.response})\r\n        }\r\n    } else {\r\n        dispatch({\r\n            type: actionType.CHAT_CREATE_FAIL,\r\n            payload: 'An error occured. please try again.'\r\n        })\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            payload: 'An error occured. please try again.'})\r\n    }\r\n}\r\n\r\nexport const addMessage = content => async dispatch => {\r\n    if (content[0].content.includes('s3')) {\r\n        dispatch({\r\n        type: actionType.CHAT_NEW_FILE_SUCCESS,\r\n        payload: content\r\n        })\r\n    } else {\r\n        dispatch({\r\n            type: actionType.CHAT_NEW_MESSAGE_SUCCESS,\r\n            payload: content\r\n            });\r\n    }\r\n}\r\n  \r\nexport const setMessages = contents => async dispatch => {\r\n    if (contents.length > 0) {\r\n        if (contents[0].content.includes('s3')) {\r\n            dispatch({\r\n            type: actionType.CHAT_FETCH_FILES_SUCCESS,\r\n            payload: contents\r\n            })\r\n        } else {\r\n            dispatch({\r\n                type: actionType.CHAT_FETCH_MESSAGES_SUCCESS,\r\n                payload: contents\r\n                });\r\n        }\r\n    }\r\n  };\r\n\r\nexport const set_friend = (image, when_matched, friend_profile_id) => async dispatch => {\r\n    dispatch({\r\n        type: actionType.SET_FRIEND,\r\n        payload: {image, when_matched, friend_profile_id}\r\n    })\r\n}\r\n\r\nexport const send_first_message = (content, contact_id)  => async dispatch => {\r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n        console.log('send_first_message')\r\n        const body = {'contact':contact_id, content}\r\n        const res = await axios.post(`${process.env.REACT_APP_API_URL}/chat-api/message/create/`, body, config)\r\n        console.log(JSON.stringify(res))\r\n        const message_id = res.data.id\r\n        const latest_chat_id = localStorage.getItem('latest_chat_id')\r\n        const chat_body = {'messages':[message_id]}\r\n        const chat_res = await axios.put(`${process.env.REACT_APP_API_URL}/chat-api/chat/detail/${latest_chat_id}/`, chat_body, config)\r\n        dispatch({\r\n            type: actionType.SEND_FIRST_MESSAGE_SUCCESS,\r\n            payload: chat_res.data\r\n        })\r\n    } catch(err) {\r\n        dispatch({\r\n            type: actionType.SEND_FIRST_MESSAGE_FAIL,\r\n            payload: err\r\n        })\r\n        dispatch({\r\n            type: actionType.ERROR,\r\n            payload: err\r\n        })\r\n    }\r\n    \r\n}\r\n  \r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport MatchedCard from './MatchedCard'\r\nimport {connect} from 'react-redux'\r\nimport '../assets/Swipe/Match.css'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    //border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    //padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n\r\n\r\n\r\nfunction Match(props) {\r\n  const classes = useStyles();\r\n  // const [open, setOpen] = React.useState(props.onOpen);\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={props.popup}\r\n        // onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}>\r\n        <Fade in={props.popup}>\r\n          <div className={classes.paper}>\r\n          <MatchedCard data={props.person} onClose={props.onClose}/>\r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default Match\r\n","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport MobileStepper from '@material-ui/core/MobileStepper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport clsx from 'clsx';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport '../assets/Swipe/Card.css'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    maxWidth: 400,\r\n    flexGrow: 1,\r\n  },\r\n  header: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    height: 50,\r\n    paddingLeft: theme.spacing(4),\r\n    backgroundColor: theme.palette.background.default,\r\n  },\r\n  img: {\r\n    height: 475,\r\n    display: 'block',\r\n    maxWidth: 400,\r\n    overflow: 'hidden',\r\n    width: '100%',\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    outline: 'none',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n}));\r\n\r\nfunction OneCard(props) {\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = React.useState(false);\r\n\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded); \r\n  }\r\n\r\n  const theme = useTheme();\r\n  const [activeStep, setActiveStep] = React.useState(0);\r\n  const maxSteps = (props.data.images!= null && props.data.images.length >0)? props.data.images.length: 1\r\n\r\n  const handleNext = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n\r\n  const handleStepChange = (step) => {\r\n    setActiveStep(step);\r\n  };\r\n\r\n  function time() {\r\n    var time_range = null\r\n    props.data.time_start != null || props.data.time_end != null ?\r\n    time_range = <>{props.data.time_start}~{props.data.time_end}</>\r\n    :  time_range = (<></>)\r\n    return time_range\r\n}\r\n\r\n  function freeday() {\r\n    var freeday = null\r\n    props.data.freeday != null ?\r\n    freeday = <>freeday: {props.data.freeday}</>\r\n    :\r\n    freeday = null\r\n    return freeday\r\n  }\r\n\r\n  return (\r\n      <Card id='card_root'>\r\n        <div id='card_imagebox' style={{position:'relative'}}>\r\n          <SwipeableViews\r\n            axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n            index={activeStep}\r\n            onChangeIndex={handleStepChange}\r\n            enableMouseEvents\r\n          >\r\n        {props.images === undefined?props.data.images.map((step, index) => (\r\n            <div key={props.data.name}>\r\n              {Math.abs(activeStep - index) <= 2?(\r\n                <img className={classes.img} src={step}/>\r\n              ) :null }\r\n            </div>)):props.images.map((step, index) => (\r\n            <div key={props.id}>\r\n              {Math.abs(activeStep - index) <= 2?(\r\n                <img className={classes.img} src={step.image}/>\r\n              ) :null }\r\n            </div>))}\r\n          </SwipeableViews>\r\n          <div id='card_stepper'>\r\n          <MobileStepper\r\n          variant=\"dots\"\r\n          steps={maxSteps>1? maxSteps: 0 }\r\n          position=\"static\"\r\n          activeStep={activeStep}\r\n          nextButton={\r\n            <Button size=\"small\" onClick={handleNext} disabled={activeStep === maxSteps - 1} id='outline'>\r\n              {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\r\n            </Button>\r\n          }\r\n          backButton={\r\n            <Button size=\"small\" onClick={handleBack} disabled={activeStep === 0} id='outline'>\r\n              {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\r\n            </Button>\r\n          }\r\n          />\r\n          </div>\r\n    </div>\r\n\r\n    <CardContent>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          {props.data.name}\r\n        </Typography>\r\n      </CardContent>\r\n      <Typography style={{marginLeft: '10px'}}>native language: {props.data.native_lan}<br/>\r\n                 want to learn: {props.data.foreign_lan}<br/><br/>\r\n      </Typography>\r\n      <CardActions disableSpacing>\r\n        <IconButton\r\n          className={clsx(classes.expand, {\r\n            [classes.expandOpen]: expanded,\r\n          })}\r\n          onClick={handleExpandClick}\r\n          aria-expanded={expanded}\r\n          aria-label=\"show more\"\r\n          id='outline'\r\n        >\r\n          <ExpandMoreIcon onClick={handleExpandClick} id='outline'/>\r\n        </IconButton>\r\n      </CardActions>\r\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n        <CardContent>\r\n        <Typography paragraph>{freeday}  {time}</Typography>\r\n          <Typography className='card_intro'  paragraph>\r\n            {props.intro}\r\n          </Typography>\r\n        </CardContent>\r\n      </Collapse>\r\n    </Card>\r\n  );\r\n}\r\n\r\n\r\nexport default OneCard;\r\n\r\n","import React, {useState, useEffect, useMemo} from 'react'\r\nimport axios from 'axios'\r\nimport {connect} from 'react-redux'\r\nimport TinderCard from 'react-tinder-card'\r\n// import Ripple from '@bit/joshk.react-spinners-css.ripple';\r\nimport { Ripple } from 'react-spinners-css';\r\nimport '../assets/Swipe/Cards.css'\r\nimport Header from './Header'\r\nimport Footer from './Footer'\r\nimport Match from './Match'\r\nimport Card from './Card'\r\nimport * as swipe_actions from '../store/actions/swipe_action'\r\nimport * as chat_actions from '../store/actions/chat_action'\r\nimport * as contact_actions from '../store/actions/contact_action'\r\n\r\n\r\n\r\n\r\nfunction Cards(props) {\r\n    \r\n    //useref\r\n    const [people, setPeople] = useState([]);\r\n    const [lastDirection, setLastDirection] = useState()\r\n    const [popup, setPopup] = useState(false)\r\n    const [matchedPerson, setMatchedPerson] = useState()\r\n    const [ripple, setRipple] = useState(true)\r\n    let alredyRemoved = []\r\n\r\n\r\n\r\n    useEffect(() => {\r\n      props.card_receive()\r\n      props.receive_swipe(props.id)\r\n      setPeople(props.cards)\r\n    }, [])\r\n\r\n    let users = people\r\n    const childRefs = useMemo(() => people!= null? Array(people.length).fill(0).map(i => React.createRef(), []):null)\r\n  \r\n    const swiped = async (direction, person) => {\r\n      console.log('name:',person.name)\r\n      setLastDirection(direction)\r\n      alredyRemoved.push(person.name)\r\n      if (direction === 'right') {\r\n        props.Swipe(props.swipe_id, person.user, person.user)\r\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/swipe/detail/${person.user}/`)\r\n        console.log(JSON.stringify(res));\r\n        if (res.data.liked.includes(Number(props.id))) {\r\n          console.log('MATCH')\r\n          setMatchedPerson(person)\r\n          setPopup(true)\r\n          props.chat_create(props.id, person.user)\r\n          props.add_friend(props.id, person.user)\r\n\r\n          }\r\n\r\n      } else {\r\n        props.Swipe(props.swipe_id, person.user, null)\r\n      }\r\n    }\r\n\r\n    function onClose() {\r\n      setPopup(false)\r\n    }\r\n\r\n  \r\n    const outOfFrame = (name) => {\r\n      console.log(name + ' left the screen!')\r\n      users = users.filter(person => person.name !== name)\r\n      setPeople(users)\r\n    }\r\n    const swipe = (dir) => {\r\n      const cardsLeft = people.filter(person => !alredyRemoved.includes(person.name))\r\n      if (cardsLeft.length) {\r\n        const toBeRemoved = cardsLeft[cardsLeft.length - 1]\r\n        const index = people.map(person => person.name).indexOf(toBeRemoved.name)\r\n        // alredyRemoved.push(toBeRemoved) \r\n        childRefs[index].current.swipe(dir)\r\n        swiped(dir, toBeRemoved)\r\n      }\r\n    }\r\n    if (props.swiped !== null && props.swiped !== undefined) {\r\n      if (props.swiped.length > 0) {\r\n        alredyRemoved = [...props.swiped]\r\n      }\r\n  }\r\n\r\n\r\n\r\n\r\n  return (\r\n      <div>\r\n      <Header/>\r\n    <div className=\"cards\">\r\n      {people != null && people.length>0? people.map((person, index) => {\r\n        if (person.user === props.id || props.swiped.includes(person.user)===true) { \r\n          return (<></>)\r\n        } else { \r\n        return ( <>\r\n          <TinderCard\r\n          ref={childRefs[index]} className='swipe' \r\n          key={person.name} onSwipe={(dir) => swiped(dir, person)}\r\n          onCardLeftScreen={() => outOfFrame(person.name)}\r\n          preventSwipe={['up', 'down']}>\r\n            <Card data={person}/>\r\n          </TinderCard>\r\n          </>)\r\n         }      \r\n      }):<></>\r\n      }\r\n      <div style={{marginLeft: '15px',     marginTop: '100px', textAlign:'center'}}>\r\n      {ripple? <><Ripple color='skyblue' size='200px' style={{zIndex:'-1'}}/>\r\n      <h1 style={{color:'#2c7f80'}}>You swiped all cards.<br/>\r\n      Please wait until new accouts will be created.</h1></>: <></>}\r\n      </div>\r\n      <Match person={matchedPerson} onClose={onClose} popup={popup}/>\r\n    </div>\r\n    <Footer swipe_left={() => swipe('left')} swipe_right={() => swipe('right')}/>\r\n    </div>\r\n    );\r\n}\r\n\r\n\r\nconst mapstateToProps = state => {\r\n  return {\r\n    id: state.auth_reducer.id,\r\n    swiped: state.swipe_reducer.swiped,\r\n    liked: state.swipe_reducer.liked,\r\n    swipe_id: state.swipe_reducer.swipe_id,\r\n    cards: state.swipe_reducer.cards\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    Swipe: (swipe_id, swiped, liked) => dispatch(swipe_actions.Swipe(swipe_id, swiped, liked)),\r\n    chat_create: (user, friend) => dispatch(chat_actions.Create(user, friend)),\r\n    add_friend: (id, friend) => dispatch(contact_actions.Update(id, friend)),\r\n    receive_swipe: (id) => dispatch(swipe_actions.Receive(id)),\r\n    card_receive: () => dispatch(swipe_actions.card_receive())\r\n  }\r\n}\r\nexport default connect(mapstateToProps, mapDispatchToProps)(Cards);\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport '../assets/Setting/Profile.css'\r\nimport OneCard from '../Swipe/Card'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    expand: {\r\n      transform: 'rotate(0deg)',\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      outline: 'none',\r\n      transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n      }),\r\n    },\r\n    expandOpen: {\r\n      transform: 'rotate(180deg)',\r\n    },\r\n  }));\r\n  \r\n\r\nfunction Profile(props) {\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = React.useState(false);\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n\r\n  function time() {\r\n    props.time_start || props.time_end ?\r\n    (<>{props.time_start}~{props.time_end}</>)\r\n    : (<></>)\r\n  }\r\n  console.log(props.person)\r\n\r\n  function freeday() {\r\n    var freeday = null\r\n    props.data.freeday != null ?\r\n    freeday = <>freeday: {props.data.freeday}</>\r\n    :\r\n    freeday = null\r\n    return freeday\r\n  }\r\n  \r\n\r\n  return (\r\n    <OneCard data={props.person}/>\r\n  );\r\n}\r\n\r\nconst mapstateToProps = state => {\r\n  return {\r\n    person: state.profile_reducer,\r\n    name: state.profile_reducer.name,\r\n    gender: state.profile_reducer.gender,\r\n    age: state.profile_reducer.age,\r\n    native_lan: state.profile_reducer.native_lan,\r\n    foreign_lan: state.profile_reducer.foreign_lan,\r\n    image: state.profile_reducer.image,\r\n    location: state.profile_reducer.location,\r\n    time_start: state.profile_reducer.time_start,\r\n    time_end: state.profile_reducer.time_end,\r\n    intro: state.profile_reducer.intro,\r\n    freeday: state.profile_reducer.freeday\r\n\r\n  }\r\n}\r\n\r\nexport default connect(mapstateToProps, null)(Profile)\r\n\r\n{/* <Card id='profile_root'>\r\n<CardMedia\r\n  className='media'\r\n  image= {props.image}\r\n  title= {props.name}\r\n/>\r\n<CardContent>\r\n  <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n    {props.name}\r\n  </Typography>\r\n</CardContent>\r\n<CardActions disableSpacing>\r\n  <IconButton\r\n    className={clsx(classes.expand, {\r\n      [classes.expandOpen]: expanded,\r\n    })}\r\n    onClick={handleExpandClick}\r\n    aria-expanded={expanded}\r\n    aria-label=\"show more\"\r\n    id='outline'\r\n  >\r\n    <ExpandMoreIcon />\r\n  </IconButton>\r\n</CardActions>\r\n<Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n  <CardContent>\r\n    <Typography>My native language: {props.native_lan}<br/>\r\n          I want to learn: {props.foreign_lan}<br/><br/>\r\n    </Typography>\r\n  <Typography paragraph>{freeday} {time}</Typography>\r\n    <Typography paragraph>\r\n      {props.intro}\r\n    </Typography>\r\n  </CardContent>\r\n</Collapse>\r\n</Card> */}","import React, { useEffect } from 'react'\r\nimport Header from '../Swipe/Header'\r\nimport Profile from './Profile'\r\nimport '../assets/Setting/Setting.css'\r\nimport {Link, } from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport * as auth_actions from '../store/actions/auth_action'\r\nimport Card from '../Swipe/Card'\r\n\r\n// className='setting'\r\nfunction Setting(props) {\r\n    return (\r\n        <div>\r\n            <Header/>\r\n            <div id='setting_content' style={{justifyContent: 'space-evenly'}}>\r\n            <Card data={props.person} images={props.images}/>\r\n            <div className='Button'>\r\n                <Link to='/edit'>\r\n                <button className='setting_button1' onfocus=\"this.blur();\"><span>Edit Your Profile</span></button>\r\n                </Link>\r\n                <Link to='/'>\r\n                <button className='setting_button1' onfocus=\"this.blur();\" onClick={props.logout}><span>Log Out</span></button>\r\n                </Link>\r\n            <button className='setting_button3' onfocus=\"this.blur();\"><span>Delete Your Account</span></button>\r\n            </div>\r\n            </div>\r\n\r\n            \r\n        </div>\r\n    )\r\n}\r\nconst mapstateToProps = state => {\r\n    return {\r\n        person: state.profile_reducer,\r\n        images: state.image_reducer.images\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        logout: () => dispatch(auth_actions.logout())\r\n    }\r\n}\r\nexport default connect(mapstateToProps, mapDispatchToProps)(Setting)\r\n\r\n\r\n","import React, {useState, useEffect} from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport ReactCrop from 'react-image-crop';\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\nimport '../assets/Setting/Crop.css'\r\nimport * as image_actions from '../store/actions/image_action';\r\nimport { connect } from 'react-redux'\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    maxWidth: '700px',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n\r\nfunction Crop(props) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(props.open);\r\n  const [originalSize, setOriginalSize] = useState({ 'width':0, 'height':0 })\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    var img  = new Image()\r\n    img.src = props.url\r\n    img.onload = () => {\r\n      setOriginalSize({'width': img.width, 'height': img.height})\r\n    }\r\n  }, [])\r\n\r\n  const handleClose = () => {\r\n    props.parent_popup(false)\r\n    setOpen(false);\r\n  };\r\n\r\n  const image_uploader = () => {\r\n    props.parent_popup(false)\r\n    let real_x =  crop.x\r\n    let real_y = crop.y\r\n    let real_width = crop.width\r\n    let real_height = crop.height\r\n    if (originalSize.height > 600) {\r\n      real_x = crop.x * (originalSize.height / 600)\r\n      real_y = crop.y * (originalSize.height / 600)\r\n      real_width = crop.width * (originalSize.height / 600)\r\n      real_height = crop.height * (originalSize.height / 600)\r\n    } else if (originalSize.weight > 700) {\r\n      real_x = crop.x * (originalSize.height / 700)\r\n      real_y = crop.y * (originalSize.height / 700)\r\n      real_width = crop.width * (originalSize.height / 700)\r\n      real_height = crop.height * (originalSize.height / 700)\r\n    }\r\n    console.log(real_x, real_y, real_width, real_height)\r\n    props.image_create(props.id, props.profile_id, props.image, real_x, real_y, real_width, real_height)\r\n    setOpen(false)\r\n  }\r\n\r\n  const [crop, setCrop] = useState({ aspect: 14 / 19 });\r\n  return (\r\n    <div className='crop'>\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={open}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        <Fade in={open}>\r\n          <div className={classes.paper}>\r\n          <ReactCrop src={props.url} crop={crop} onChange={newCrop => setCrop(newCrop)} />\r\n          <div className='crop_button'>\r\n          <button className='cancel_button' onClick={handleClose} id='outline'>Cancel</button>\r\n          <button className='upload_button' onClick={image_uploader} id='outline'>Upload</button>\r\n          </div>\r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapstateToProps = state => {\r\n  return {\r\n    id: state.auth_reducer.id,\r\n    profile_id: state.profile_reducer.profile_id,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    image_create: (id, profile_id, image, x, y, width, height) => \r\n    dispatch(image_actions.image_create(id, profile_id, image, x, y, width, height))\r\n  }\r\n}\r\n\r\nexport default connect(mapstateToProps, mapDispatchToProps)(Crop)","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport * as image_actions from '../store/actions/image_action'\r\nimport { connect } from 'react-redux'\r\nimport '../assets/Setting/DeleteImageModal.css'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n    width: '500px',\r\n    height: '200px',\r\n    textAlign: 'center'\r\n  },\r\n}));\r\n\r\nfunction DeleteImageModal(props) {\r\n  console.log(props.deleting_image)\r\n  console.log(props.i)\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(props.open);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    props.parent_popup(false)\r\n  };\r\n\r\n  const image_deleter = () => {\r\n      setOpen(false)\r\n      props.parent_popup(false)\r\n      var i;\r\n      for (i = 0; i < props.images.length; i++) {\r\n        if (props.images[i].image === props.deleting_image) {\r\n          props.delete_image(props.profile_id, props.images[i].id)\r\n        }\r\n        }\r\n      }\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={open}\r\n        onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        <Fade in={open}>\r\n          <div className={classes.paper}>\r\n            <h1 style={{fontSize:'30px'}}>Are you sure you want to delete this picture?</h1>\r\n            <div className='crop_button'>\r\n            <button className='cancel_button' onClick={handleClose} id='outline'>Cancel</button>\r\n            <button className='upload_button' onClick={image_deleter} id='outline'>Delete</button>\r\n            </div>\r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n      }\r\n\r\nconst mapstateToProps = state => {\r\n  return {\r\n    images: state.image_reducer.images,\r\n    profile_id: state.profile_reducer.profile_id\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    delete_image: (profile_id, image_id) => dispatch(image_actions.image_delete(profile_id, image_id))\r\n  }\r\n}\r\n\r\nexport default connect(mapstateToProps, mapDispatchToProps)(DeleteImageModal)","import React, { useRef, useState } from 'react'\r\nimport clamp from 'lodash-es/clamp'\r\nimport swap from 'lodash-move'\r\nimport { useGesture, useDrag} from 'react-use-gesture'\r\nimport { useSprings, interpolate, animated } from 'react-spring'\r\nimport { IconButton } from '@material-ui/core';\r\nimport Crop from './Crop'\r\nimport DeleteImageModal from \"./DeleteImageModal\";\r\nimport AddCircleOutlineRoundedIcon from '@material-ui/icons/AddCircleOutlineRounded';\r\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\r\nimport * as profile_actions from '../store/actions/profile_action';\r\nimport { connect } from 'react-redux'\r\nimport '../assets/Setting/ImageBox.css'\r\n\r\n\r\n\r\n// Returns fitting styles for dragged/idle images\r\nconst fn = (order, down, originalIndex, curIndex,x, y) => index =>\r\n  down && index === originalIndex\r\n  // immediate =>\tPrevents animation if true.\r\n  //immediate is related to zIndex?\r\n    ? {x:(curIndex%3)*170 + x, y: (curIndex>2?1:0) * 220 + y, scale: 1.1,\r\n       zIndex: '1', shadow: 15, immediate: n => n === 'y' || n === 'zIndex' }\r\n    : {x:((order.indexOf(index))%3)*170, y: (order.indexOf(index)>2?1:0) * 220, scale: 1,\r\n       zIndex: '0', shadow: 1, immediate: false }\r\n\r\nfunction ImagesBox(props) {\r\n  const images = props.images\r\n  const order = useRef(images.map((_, index) => index)) //=> the list of index [1,2,3,4, ...]\r\n  // console.log(images)\r\n  // console.log('ORDER::', order)\r\n  const remaining_list = Array.from({length: 6 - images.length}, (v, k) => k);\r\n  //ex) useSprings(number, index => ({opacity: 1})) therefore it should be shaped.\r\n  // in the next code, there is no order, down, originalIndex, curIndex, y. so nothing occurs.\r\n  const [newImage, setNewImage] = useState()\r\n  const [url, setUrl] = useState()\r\n  const [crop, setCrop] = useState(false)\r\n  const [deleteModal, setDeleteModal] = useState(false)\r\n  const [deletingImage, setDeletingImage] = useState()\r\n  const [springs, setSprings] = useSprings(images.length, fn(order.current)) // Create springs, each corresponds to an item, controlling its transform, scale, etc.\r\n\r\n\r\n  const image_handler = (e) => {\r\n    console.log(e.target.files[0])\r\n    setUrl(URL.createObjectURL(e.target.files[0]))\r\n    setNewImage(e.target.files[0])\r\n    setCrop(true)\r\n    \r\n  }\r\n\r\n  const click_handler = (i) => {\r\n    setDeleteModal(true)\r\n    setDeletingImage(images[i].image)\r\n  }\r\n  //if you just tap, down will be false\r\n  // bind is for when you drag, cause some actions\r\n  //originalIndex is a index of the block that you are dragging\r\n  const bind = useDrag(({ args: [originalIndex], down, movement: [x,y], delta:[deltaX, deltaY] }) => {\r\n    const curIndex = order.current.indexOf(originalIndex)\r\n    // console.log('originalIndex::',originalIndex)\r\n    // console.log('CURRENTINDEX::', curIndex)\r\n    let row_num\r\n    let col_num \r\n    if (images.length > 3) {\r\n      row_num = 2\r\n      col_num = 3\r\n    } else if (images.length > 2) {\r\n      row_num = 1\r\n      col_num = 3\r\n    } else if (images.length > 1) {\r\n      row_num = 1\r\n      col_num = 2\r\n    } else {\r\n      row_num = 1\r\n      col_num = 1\r\n    }\r\n    console.log(curIndex)\r\n    console.log(col_num)\r\n    const col_index = curIndex%col_num\r\n    const row_index = curIndex>2?1:0\r\n    const curCol = clamp(Math.round((col_index * 200 + x) / 200), 0, col_num-1)\r\n    const curRow = clamp(Math.round((row_index * 100 + y) / 100), 0, row_num-1)\r\n    let new_index\r\n    if (curCol === 2 && curRow === 1) {\r\n      new_index = 5\r\n    } else if (curCol === 1 && curRow === 1) {\r\n      new_index = 4\r\n    } else if (curCol ===0 && curRow === 1) {\r\n      new_index = 3\r\n    } else if (curCol === 2 && curRow === 0) {\r\n      new_index = 2\r\n    } else if (curCol === 1 && curRow === 0) {\r\n      new_index = 1\r\n    } else {\r\n      new_index = 0\r\n    }\r\n    // swap(array, a index, other index) => ex) swap([1,2,3,4], 1, 2) => [1,3,2,4]\r\n    let newOrder = swap(order.current, curIndex, new_index)\r\n    // newOrder = swap(newOrder, curIndex, curCol)\r\n    setSprings(fn(newOrder, down, originalIndex, curIndex, x, y)) // Feed springs new style data, they'll animate the view without causing a single render\r\n    if (!down) order.current = newOrder\r\n  })\r\n  \r\n\r\n  return (\r\n      // <animated.div className='editor3'>\r\n    <div className=\"images_box\">\r\n      {crop?<Crop open={crop} image={newImage} url={url} parent_popup={setCrop}/>:<></>}\r\n      {deleteModal?<DeleteImageModal open={deleteModal} parent_popup={setDeleteModal} deleting_image={deletingImage}/>:<></>}\r\n      {springs.map(({ zIndex, shadow, x, y, scale }, i) => (\r\n        <animated.div\r\n          key={i}\r\n          {...bind(i)}\r\n          style={{\r\n            zIndex,\r\n            boxShadow: shadow.interpolate(s => `rgba(0, 0, 0, 0.15) 0px ${s}px ${2 * s}px 0px`),\r\n            //transform: rotate(20), skew(20), scale(2), translate3d() etc...\r\n            transform: interpolate([x, y, scale], (x, y, s) => `translate3d(${x}px,${y}px,0px) scale(${s})`),\r\n            backgroundImage: `url(${images[i].image})`,\r\n            backgroundSize:'cover'\r\n          }}\r\n        >\r\n          <HighlightOffIcon onClick={() =>click_handler(i)} className='delete_image'/>\r\n        </animated.div>\r\n      ))}\r\n      {/* top:10 => the first row top:230 => the second row right => 170, 0, -170 */}\r\n      {remaining_list.map((i) => (\r\n        <div className='new_image' style={{top:i<3?'230px':'10px', right:i%3===0?'-170px':(i -1)%3===0?'0px':'170px'}}> \r\n        <label for=\"file-upload\" class=\"custom-file-upload\">\r\n        <AddCircleOutlineRoundedIcon className='add_image'/>\r\n        </label>\r\n        <input type='file' name='image' accept=\"image/png, image/jpeg\" size=\"60\" id=\"file-upload\" onChange={image_handler}/>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default ImagesBox","import React, { useState }from 'react'\r\nimport {Link, Redirect } from 'react-router-dom'\r\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\r\nimport { IconButton } from '@material-ui/core';\r\nimport ImagesBox from './ImagesBox'\r\nimport * as profile_actions from '../store/actions/profile_action';\r\nimport { connect } from 'react-redux'\r\nimport '../assets/Setting/Editor.css'\r\n\r\n\r\n\r\nfunction Editor(props) {\r\n    console.log(props.images)\r\n    const [profileUpdated, setProfileUpdated] = useState(false)\r\n    const [formData, setFormData] = useState({\r\n        profile_id: props.profile_id,\r\n        name: props.name,\r\n        gender: props.gender,\r\n        age: props.age,\r\n        native_lan: props.native_lan,\r\n        foreign_lan: props.foreign_lan,\r\n        location: props.location,\r\n        time_start: props.time_start,\r\n        time_end: props.time_end,\r\n        intro: props.intro,\r\n        freeday: props.freeday \r\n    })\r\n\r\n\r\n    const languages = ['Arabic','Bengali','Burmese','Chinese','English','French','German','Gujarati','Hindi','Italian','Japanese','Kannada','Korean','Malayalam',\r\n    'Marathi','Oriya','Panjabi','Persian','Polish','Portuguese','Russian','Spanish','Tamil','Telugu','Thai','Turkish','Ukrainian','Urdu','Vietnamese']\r\n\r\n    const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']\r\n\r\n    const genders = ['Male', 'Female', 'Other']\r\n\r\n    const {profile_id, name, age, gender, native_lan, foreign_lan, location, time_start, time_end, intro, freeday} = formData\r\n    const onChange = e => setFormData({...formData, [e.target.name]: e.target.value})\r\n\r\n    function time() {\r\n        var time_range = null\r\n        time_start !== '' || time_end !== '' ?\r\n        time_range = <>{time_start}~{time_end}</>\r\n        :  time_range = (<></>)\r\n        return time_range\r\n    }\r\n\r\n    function Freedayset() {\r\n        console.log(freeday)\r\n        var freetime = null\r\n        freeday !== '' ?\r\n        freetime = <>freeday: {freeday}</>\r\n        :\r\n        freetime = null\r\n        return freetime\r\n      }\r\n\r\n    const onSubmit = e =>{\r\n    e.preventDefault()\r\n    props.update(profile_id, name, age, gender, native_lan, foreign_lan,  location, time_start, time_end, intro, freeday)\r\n    setProfileUpdated(true)\r\n    }\r\n    if (profileUpdated) {\r\n        return <Redirect to='/setting'/>\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='edit'>\r\n        <div className='edit_header'>\r\n                <Link to='/setting'>\r\n                    <IconButton style={{outline: 'none'}}>\r\n                        <ArrowForwardIosIcon/>\r\n                    </IconButton>\r\n                </Link>\r\n        </div>\r\n        <div className='edit_setting'>\r\n                    <form className='edit_form' onSubmit={onSubmit} encType='multipart/form-data'>\r\n                    <div className='edit_container'> \r\n                    <h1>Your Profile</h1>\r\n                    <ImagesBox images={props.images}/>\r\n                            <input placeholder='name' type='text' name='name' value={name} className='edit_input' id='edit_name' onChange={onChange}/>\r\n                            <input placeholder='age' type=\"number\" name='age' value={parseInt(age)} className='edit_input' onChange={onChange}/>\r\n                            <select className='edit_select' name='gender' onChange={onChange}>\r\n                                <option hidden>gender</option>\r\n                                {genders.map((sex) => {\r\n                                    if (sex===gender) {\r\n                                        return <option selected value={sex}>{sex}</option>\r\n                                    } else {\r\n                                    return <option value={sex}>{sex}</option>\r\n                                    }\r\n                                })}\r\n                            </select>\r\n                            <select className='edit_select' name='native_lan' onChange={onChange} required>\r\n                                <option hidden>You speak...</option>\r\n                                {languages.map((language) => {\r\n                                    if (language===native_lan) {\r\n                                        return <option selected value={language}>{language}</option>\r\n                                    } else {\r\n                                    return <option value={language}>{language}</option>\r\n                                    }\r\n                                })}\r\n                            </select>\r\n                            <select className='edit_select' name='foreign_lan' onChange={onChange} required>\r\n                                <option hidden>You want to learn ...</option>\r\n                                {languages.map((language) => {\r\n                                    if (language===foreign_lan) {\r\n                                        return <option selected value={language}>{language}</option>\r\n                                    } else {\r\n                                    return <option value={language}>{language}</option>\r\n                                    }\r\n                                })}\r\n                            </select>\r\n\r\n                            <select className='edit_select' name='freeday' onChange={onChange}>\r\n                                <option hidden>You are free on ...</option>\r\n                                {days.map((day) => {\r\n                                    if (day===freeday) {\r\n                                        return <option selected value={day}>{day}</option>\r\n                                    } else {\r\n                                    return <option value={day}>{day}</option>\r\n                                    }\r\n                                })}\r\n                            </select>\r\n                            <div className='edit_time'>\r\n                            <input type='time' className='edit_input_time' name='time_start' value={time_start} onChange={onChange}/>\r\n                            ~\r\n                            <input type='time' className='edit_input_time' name='time_end' value={time_end} onChange={onChange}/>\r\n                            </div>\r\n                            <textarea placeholder='Write your profile message here!' name='intro' value={intro} type='text' className='edit_input' onChange={onChange}/>\r\n                            </div>\r\n                            <button className='edit_button' type='submit'><span>SAVE</span></button>\r\n                        </form>\r\n        </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nconst mapstateToProps = state => {\r\n    return {\r\n        profile_id: state.profile_reducer.profile_id,\r\n        name: state.profile_reducer.name,\r\n        gender: state.profile_reducer.gender,\r\n        age: state.profile_reducer.age,\r\n        native_lan: state.profile_reducer.native_lan,\r\n        foreign_lan: state.profile_reducer.foreign_lan,\r\n        images: state.image_reducer.images,\r\n        location: state.profile_reducer.location,\r\n        time_start: state.profile_reducer.time_start,\r\n        time_end: state.profile_reducer.time_end,\r\n        intro: state.profile_reducer.intro,\r\n        freeday: state.profile_reducer.freeday\r\n    \r\n    }\r\n  }\r\n  \r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        update : (name, account_id, age, gender, native_lan, foreign_lan, image, location, time_start, time_end, intro, freeday) => \r\n        dispatch(profile_actions.Update(name, account_id, age, gender, native_lan, foreign_lan, image, location, time_start, time_end, intro, freeday))\r\n    }\r\n}\r\nexport default connect(mapstateToProps, mapDispatchToProps)(Editor);","class WebSocketService {\r\n    // static is method or instance in the class\r\n    static instance = null;\r\n    // put sth later\r\n    callbacks = {};\r\n    static getInstance() {\r\n        if (!WebSocketService.instace) {\r\n            WebSocketService.instance = new WebSocketService()\r\n        }\r\n        return WebSocketService.instance\r\n    }\r\n\r\n    constructor() {\r\n        this.socketRef = null;\r\n\r\n    }\r\n    connect(chaturl) {\r\n        //127.0.0.1:8000\r\n        //localhost:8000\r\n        //speakup-heroku.herokuapp.com\r\n        //ws => wss\r\n        var ws_scheme = window.location.protocol === \"https:\" ? \"wss\" : \"ws\";\r\n        var host = window.location.host\r\n        //const path = `ws://localhost:8000/ws/chat/${chaturl}/`\r\n        const path = `${ws_scheme}://${host}/ws/chat/${chaturl}/`\r\n        this.socketRef = new WebSocket(path)\r\n        this.socketRef.onopen = () => {\r\n            console.log('open')\r\n        }\r\n        this.socketNewMessage(JSON.stringify({\r\n            // fetch_messages => messages\r\n            command: 'messages'\r\n        }))\r\n        this.socketRef.onmessage = e => {\r\n            this.socketNewMessage(e.data)\r\n        }\r\n        this.socketRef.onclose = () => {\r\n            console.log('close')\r\n            this.connect()\r\n        }\r\n        this.socketRef.onerror = e => {\r\n            console.log('error in Websocket::',e)\r\n        }\r\n    }\r\n\r\n    disconnect() {\r\n        this.socketRef.close()\r\n    }\r\n\r\n    //this is receiving function\r\n    socketNewMessage(data) {\r\n        const parseData = JSON.parse(data)\r\n        const command = parseData.command\r\n        console.log('Parsedata in Websocket::',parseData)\r\n        if (Object.keys(this.callbacks).length === 0) {\r\n            return \r\n        }\r\n        if (command === 'messages') {\r\n            // as you can see addCallback, callbacks[command] is function. so you put Parsedata.message(s) in messagesCallback or newMessageCallback\r\n            if (parseData.messages) {\r\n                this.callbacks[command](parseData.messages)\r\n            } else if (parseData.files) {\r\n                this.callbacks[command](parseData.files)\r\n            }\r\n        }\r\n        if (command === 'new_message') {\r\n            if (parseData.message) {\r\n                this.callbacks[command](parseData.message)\r\n            } else if (parseData.file) {\r\n                this.callbacks[command](parseData.file)\r\n            }\r\n        }\r\n    }\r\n\r\n    fetchMessages(username, ChatID) {\r\n        this.sendMessage({command: 'fetch_messages',\r\n         username: username,\r\n        ChatID: ChatID})\r\n    }\r\n    \r\n    newChatMessage(message) {\r\n        console.log('newChatMessage::', message)\r\n        this.sendMessage({command: 'new_message',\r\n        from: message.from,\r\n        message: message.content,\r\n        ChatID: message.ChatID,\r\n        files:message.files})\r\n    }\r\n\r\n    addCallbacks(messagesCallback, newMessageCallback) {\r\n        this.callbacks['messages'] = messagesCallback;\r\n        this.callbacks['new_message'] = newMessageCallback\r\n    }\r\n\r\n    sendMessage(data) {\r\n        console.log('data in sendMessage',data)\r\n        try {\r\n            this.socketRef.send(JSON.stringify({...data }))\r\n        } catch (err) {\r\n            console.log(err.message)\r\n        } \r\n    }\r\n    state() {\r\n        return this.socketRef.readyState\r\n    }\r\n}\r\n\r\n// WebSocketInstance is new instance \r\nconst WebSocketInstance = WebSocketService.getInstance()\r\n\r\nexport default WebSocketInstance;","\r\n\r\nexport function waitForSocketConnection(callback, WebSocketInstance) {\r\n    // const socket = this.socketRef\r\n    //const recursion = .waitForSocketConnection\r\n    setTimeout(\r\n        function() {\r\n            if (WebSocketInstance.state() === 1) {\r\n                console.log('connection is secure')\r\n                callback()\r\n                return;\r\n            } else {\r\n                console.log('waiting for connection ....')\r\n                waitForSocketConnection(callback, WebSocketInstance)\r\n            } \r\n        }, 100);\r\n}\r\n\r\n\r\nexport const sendMessageHandler = (WebSocketInstance, props, message, images, files) =>{\r\n    console.log('SEND MESSAGEHANDLER')\r\n    let files_list = images.concat(files)\r\n\r\n    console.log('files_list', message)\r\n    const messageObject = {\r\n        from: props.name,\r\n        content: message,\r\n        ChatID: props.ChatID,\r\n        files: files_list\r\n        \r\n    }\r\n    WebSocketInstance.newChatMessage(messageObject);\r\n\r\n}\r\n\r\nexport function initializeChat(props, WebSocketInstance) {\r\n    waitForSocketConnection(() => {\r\n        WebSocketInstance.addCallbacks(\r\n            props.fetch_messages,\r\n            props.new_message)\r\n        WebSocketInstance.fetchMessages(props.name, props.ChatID)\r\n    }, WebSocketInstance)\r\n}\r\n","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport MobileStepper from '@material-ui/core/MobileStepper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport clsx from 'clsx';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport '../assets/Swipe/Card.css'\r\nimport '../assets/Swipe/Match.css'\r\n\r\nconst images = ['https://i.pinimg.com/originals/1f/bb/51/1fbb51e234949b8154b0f80fcff7efe3.jpg', 'https://static.billboard.com/files/media/cobie-smulders-2019-vf-u-billboard-1548-compressed.jpg']\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    maxWidth: 400,\r\n    flexGrow: 1,\r\n  },\r\n  header: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    height: 50,\r\n    paddingLeft: theme.spacing(4),\r\n    backgroundColor: theme.palette.background.default,\r\n  },\r\n  img: {\r\n    height: 475,\r\n    display: 'block',\r\n    maxWidth: 400,\r\n    overflow: 'hidden',\r\n    width: '100%',\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    outline: 'none',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n}));\r\n\r\nfunction OneCard(props) {\r\n  //props.onClose(false)\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = React.useState(false);\r\n\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n\r\n  const theme = useTheme();\r\n  const [activeStep, setActiveStep] = React.useState(0);\r\n  const maxSteps = props.data.images.length >0? props.data.images.length: 1\r\n\r\n  const handleNext = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n\r\n  const handleStepChange = (step) => {\r\n    setActiveStep(step);\r\n  };\r\n\r\n  function time() {\r\n    var time_range = null\r\n    props.data.time_start != null || props.data.time_end != null ?\r\n    time_range = <>{props.data.time_start}~{props.data.time_end}</>\r\n    :  time_range = (<></>)\r\n    return time_range\r\n}\r\n\r\n  function freeday() {\r\n    var freeday = null\r\n    props.data.freeday != null ?\r\n    freeday = <>freeday: {props.data.freeday}</>\r\n    :\r\n    freeday = null\r\n    return freeday\r\n  }\r\n\r\n  return (\r\n      <Card id='card_root'>\r\n        <div id='card_imagebox'>\r\n          <SwipeableViews\r\n            axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n            index={activeStep}\r\n            onChangeIndex={handleStepChange}\r\n            enableMouseEvents\r\n          >\r\n            {props.images === undefined?props.data.images.map((step, index) => (\r\n                <div key={props.data.name}>\r\n                  {Math.abs(activeStep - index) <= 2?(\r\n                    <img className={classes.img} src={step}/>\r\n                  ) :null }\r\n                </div>)):props.images.map((step, index) => (\r\n                <div key={props.id}>\r\n                  {Math.abs(activeStep - index) <= 2?(\r\n                    <img className={classes.img} src={step.image}/>\r\n                  ) :null }\r\n                </div>))}\r\n              </SwipeableViews>\r\n\r\n              <IconButton id='match_icon' onHover={() => props.onClose(false)}>\r\n                <ClearIcon style={{fontSize: 'large'}} onHover={() => console.log('clicked')} />\r\n              </IconButton>\r\n\r\n              <div id='card_stepper'>\r\n                  <MobileStepper\r\n                  variant=\"dots\"\r\n                  steps={maxSteps>1? maxSteps: 0 }\r\n                  position=\"static\"\r\n                  activeStep={activeStep}\r\n                  nextButton={\r\n                    <Button size=\"small\" onClick={handleNext} disabled={activeStep === maxSteps - 1} id='outline'>\r\n                      {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\r\n                    </Button>\r\n                  }\r\n                  backButton={\r\n                    <Button size=\"small\" onClick={handleBack} disabled={activeStep === 0} id='outline'>\r\n                      {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\r\n                    </Button>\r\n                  }\r\n                  />\r\n              </div>\r\n        </div>\r\n\r\n      <IconButton id='match_icon' onClick={() => props.onClose(false)}>\r\n        <ClearIcon style={{fontSize: 'large'}}/>\r\n      </IconButton>\r\n      \r\n    <CardContent>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          {props.data.name}\r\n        </Typography>\r\n      </CardContent>\r\n      <Typography style={{marginLeft: '10px'}}>native language: {props.data.native_lan}<br/>\r\n                 want to learn: {props.data.foreign_lan}<br/><br/>\r\n      </Typography>\r\n      <CardActions disableSpacing>\r\n        <IconButton\r\n          className={clsx(classes.expand, {\r\n            [classes.expandOpen]: expanded,\r\n          })}\r\n          onClick={handleExpandClick}\r\n          aria-expanded={expanded}\r\n          aria-label=\"show more\"\r\n          id='outline'\r\n        >\r\n          <ExpandMoreIcon onClick={handleExpandClick} id='outline'/>\r\n        </IconButton>\r\n      </CardActions>\r\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n        <CardContent>\r\n        <Typography paragraph>{freeday}  {time}</Typography>\r\n          <Typography className='card_intro'  paragraph>\r\n            {props.intro}\r\n          </Typography>\r\n        </CardContent>\r\n      </Collapse>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default OneCard;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport FriendCard from './FriendCard'\r\nimport '../assets/Swipe/Match.css'\r\nimport axios from 'axios'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    //border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    //padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n\r\nexport default function FriendProfile(props) {\r\n  const classes = useStyles();\r\n\r\n  const [friendData, setFriendData] = useState()\r\n  useEffect(() => {\r\n    axios.get(`${process.env.REACT_APP_API_URL}/profile/friend/${props.friend_profile_id}/`)\r\n    .then(res => {\r\n        setFriendData(res.data)})\r\n    }, [])\r\n\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={props.popup}\r\n        // onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}>\r\n        <Fade in={props.popup}>\r\n          <div className={classes.paper}>\r\n          <FriendCard data={friendData} onClose={props.onClose}/>\r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}","export default function time_handler(props) {\r\n    var event = new Date();\r\n    let [cur_date, cur_time] = event.toLocaleString('en-GB', { timeZone: 'Europe/London' }).split(',')\r\n    let [cur_day, cur_month, cur_year] = cur_date.split('/')\r\n    let [cur_hour, cur_minute, cur_sec] = cur_time.split(':')\r\n    \r\n    if (props !== 'Start now') {\r\n        const [date, time] = props.split('T')\r\n        let [last_year, last_month, last_day] = date.split('-')\r\n        let [last_hour, last_minute, last_sec] = time.split(':')\r\n        let time_list = [cur_day, cur_month, cur_year, cur_hour, cur_minute, last_year, last_month, last_day, last_hour, last_minute]\r\n        var i\r\n        for (i = 0; i < time_list.length; i++) {\r\n            time_list[i] = parseInt(time_list[i])\r\n        }\r\n        [cur_day, cur_month, cur_year, cur_hour, cur_minute, last_year, last_month, last_day, last_hour, last_minute] = time_list\r\n        if (cur_year !== last_year) {\r\n            if (cur_year - last_year === 1) {\r\n                return JSON.stringify(cur_year - last_year) + 'year ago'\r\n            } else {\r\n                return JSON.stringify(cur_year - last_year) + 'years ago'\r\n            }\r\n        }\r\n        if (cur_month !== last_month) {\r\n            if (cur_month - last_month === 1) {\r\n                return JSON.stringify(cur_month - last_month) + 'month ago'\r\n            } else {\r\n                return JSON.stringify(cur_month - last_month) + 'months ago'\r\n            }\r\n        }\r\n        if (cur_day !== last_day) {\r\n            if (cur_day - last_day === 1) {\r\n                return JSON.stringify(cur_day - last_day) + 'day ago'\r\n            } else {\r\n                return JSON.stringify(cur_day - last_day) + 'days ago'\r\n            }\r\n        }\r\n        if (cur_hour !== last_hour) {\r\n            if (cur_hour - last_hour === 1) {\r\n                return JSON.stringify(cur_hour - last_hour) + 'hour ago'\r\n            } else {\r\n                return JSON.stringify(cur_hour - last_hour) + 'hours ago'\r\n            }\r\n        }\r\n        if (cur_minute !== last_minute) {\r\n            if (cur_minute - last_minute === 1) {\r\n                return JSON.stringify(cur_minute - last_minute) + 'minute ago'\r\n            } else {\r\n                return JSON.stringify(cur_minute - last_minute) + 'minutes ago'\r\n            }\r\n        } else {\r\n            return '0 minute ago'\r\n        }\r\n    } else {\r\n        return ''\r\n    }\r\n\r\n}\r\n\r\n\r\nexport function time_orderer(files, messages) {\r\n    const all_contents = files.concat(messages)\r\n    all_contents.sort(function (a, b) {\r\n        const a_date = new Date(a.timestamp.replace(' ', 'T'))\r\n        const b_date = new Date(b.timestamp.replace(' ', 'T'))\r\n\r\n        return a_date - b_date;\r\n      });\r\n    \r\n    return all_contents\r\n}\r\n\r\n","import { connect } from 'react-redux'\r\nimport WebSocketInstance from './WebSocket.js'\r\nimport React, {useState, useEffect} from 'react'\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize';\r\nimport SpaIcon from '@material-ui/icons/Spa';\r\nimport InsertDriveFileIcon from '@material-ui/icons/InsertDriveFile';\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport { IconButton } from '@material-ui/core';\r\nimport {Link} from 'react-router-dom'\r\nimport '../assets/Chat/Chat.css'\r\nimport {sendMessageHandler, initializeChat} from './MessageHandler'\r\nimport * as chat_actions from '../store/actions/chat_action'\r\nimport FriendProfile from './FriendProfile'\r\nimport { time_orderer } from \"./TimeHandler\";\r\nimport VideocamIcon from '@material-ui/icons/Videocam';\r\nimport axios from 'axios'\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n\r\n\r\n\r\nfunction ChatScreen(props) {\r\n    const [text, setText] = useState('')\r\n    const [popup, setPopup] = useState(false)\r\n    const [sendingImages, setSendingImages] = useState([])\r\n    const [sendingFiles, setSendingFiles] = useState([])\r\n    const [input, setInput] = useState('')\r\n    const [allContents, setAllContents] = useState([])\r\n    const [quality, setQuality] = useState(12);\r\n\r\n    useEffect(() => {\r\n        console.log(props.ChatID)\r\n        initializeChat(props, WebSocketInstance)\r\n        WebSocketInstance.connect(props.ChatID)\r\n        setAllContents(...allContents, ...time_orderer(props.files, props.messages))\r\n    }, [props.ChatID])\r\n\r\n    function getBase64(file, cb) {\r\n        var reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = function () {\r\n            cb(reader.result)\r\n        }; \r\n        reader.onerror = function (error) {\r\n            console.log('Error: ', error);\r\n        };\r\n    }\r\n\r\n    let idCardBase64 = '';\r\n    const image_handler = (e) => {\r\n        getBase64(e.target.files[0], (result) => {\r\n            idCardBase64 = result;\r\n            setSendingImages([...sendingImages,{'name':e.target.files[0].name, 'file':idCardBase64}])\r\n        });\r\n    }\r\n\r\n    const file_handler = (e) => {\r\n        getBase64(e.target.files[0], (result) => {\r\n            idCardBase64 = result;\r\n            setSendingFiles([...sendingFiles,{'name':e.target.files[0].name, 'file':idCardBase64}])\r\n        });\r\n    }\r\n\r\n    const handleJoin = () => {\r\n\r\n        axios.get(`http://localhost:5000/join`).then(res => {\r\n            let video_link = `${props.name} is calling you \\n\r\n  \r\n             ${window.location.origin}/join/${res.data.link}`\r\n            setSendingImages([])\r\n            setSendingFiles([])\r\n            sendMessageHandler(WebSocketInstance, props, video_link, sendingImages, sendingFiles)\r\n            //props.history?.push(`/join/${res.data.link}`);\r\n        })\r\n    }\r\n\r\n\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault()\r\n        if (text.length > 0 || sendingImages.length > 0 || sendingFiles.length > 0) {\r\n            sendMessageHandler(WebSocketInstance, props, text, sendingImages, sendingFiles)\r\n            console.log('submitted')\r\n        }\r\n        setText('')\r\n        setSendingImages([])\r\n        setSendingFiles([])\r\n    }\r\n\r\n    function onOpen() {\r\n        setPopup(true)\r\n    }\r\n    function onClose() {\r\n        setPopup(false)\r\n    }\r\n\r\n    const onChange = (e) => {\r\n        setText(e.target.value)\r\n    }\r\n\r\n    const onClick = (url) => {\r\n        let link=document.createElement('a');\r\n        link.download=url.content;\r\n        link.click();\r\n}\r\n\r\n    const download = (content) => {\r\n        const res = axios.get(`${process.env.REACT_APP_API_URL}/chat-api/file/download/${content.id}/`)\r\n    };\r\n\r\n    const video_path = '/video/' + uuidv4()\r\n\r\n    return (\r\n        <div className='chatScreen'>\r\n            <header className='chatScreen_header'>\r\n                <Link to='/chatpanel'>\r\n                    <IconButton id='chatScreen_header_back_icon'>\r\n                        <ArrowBackIosIcon style={{fontSize: '30px'}}/>\r\n                    </IconButton>\r\n                </Link>\r\n                {/* <Link to={video_path}> */}\r\n                    <IconButton id='chatScreen_header_video_icon' onClick={handleJoin}>\r\n                            <VideocamIcon style={{fontSize: '30px', marigin: '10px'}}/>\r\n                    </IconButton>\r\n                {/* </Link> */}\r\n            </header>\r\n            <div style={{position:'sticky', top:'30%', zIndex:0}}>\r\n            <SpaIcon id='chatScreen_logo'/>\r\n            </div>\r\n            <FriendProfile onClose={onClose} popup={popup} friend_profile_id={props.friend_profile_id}/>\r\n            <div style={{textAlign: 'center'}}>\r\n            <p1 className='chatScreen_match'>YOU MATCHED WITH {props.friend} ON {props.when_matched}</p1>\r\n            </div>\r\n            <ul className='chatScreen_messages'>\r\n            {props.contents.map(content => {\r\n            if (content.name === props.name) {\r\n                if (content.file_name !== undefined) {\r\n                    if (content.file_name.includes('jpg', 'jpeg', 'png')) {  //my image file\r\n                        return (\r\n                            <div className='chatScreen_message_sent'>\r\n                                <div className='chatScreen_download_sent'>\r\n                                <IconButton style={{outline:'none'}} onClick={e => download(content)} >\r\n                                <GetAppIcon/>\r\n                                </IconButton>\r\n                                </div>\r\n                                <img src={content.content}/>\r\n                            </div>\r\n                        )\r\n                    } else {                                                 // my other files\r\n                        return (\r\n                            <div className='chatScreen_message_sent'>\r\n                                <div className='chatScreen_file_sent'>\r\n                                <InsertDriveFileIcon className='chatScreen_file_icon'/>\r\n                                <p2>{content.file_name}</p2>\r\n                                <IconButton style={{outline:'none'}} onClick={e => download(content)} >\r\n                                <GetAppIcon/>\r\n                                </IconButton>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                } else {                                               // my messages\r\n                    return (\r\n                        <div className='chatScreen_message_sent'>\r\n                        <p className='chatScreen_sent'>{content.content}<br/>\r\n                        <small>\r\n                        {content.timestamp.substring(0,16)}\r\n                         </small></p>\r\n                        </div>\r\n                        )\r\n                }\r\n            } else {\r\n                if (content.file_name !== undefined) {\r\n                    if (content.file_name.includes('jpg', 'jpeg', 'png')) {  //your image file\r\n                        return (\r\n                            <div className='chatScreen_message_reply'>\r\n                                <Avatar className='chatScreen_image'\r\n                                alt={content.name} src={props.friend_image} onClick={onOpen}/>\r\n                            <div className='chatScreen_text'>\r\n                                <img src={content.content}/>\r\n                                <div className='chatScreen_download_reply'>\r\n                                <IconButton style={{outline:'none'}} onClick={e => download(content)} >\r\n                                <GetAppIcon/>\r\n                                </IconButton>\r\n                                </div>\r\n                            </div>\r\n                            </div>\r\n                        )\r\n                    } else {                                                 // your other files\r\n                        return (\r\n                            <div className='chatScreen_message_reply'>\r\n                                <Avatar className='chatScreen_image'\r\n                                alt={content.name} src={props.friend_image} onClick={onOpen}/>\r\n                            <div className='chatScreen_text'>\r\n                                <div className='chatScreen_file_reply'>\r\n                                <InsertDriveFileIcon className='chatScreen_file_icon'/>\r\n                                <p2>{content.file_name}</p2>\r\n                                <IconButton style={{outline:'none'}} onClick={e => download(content)} >\r\n                                <GetAppIcon/>\r\n                                </IconButton>\r\n                                </div>\r\n                            </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                } else {                                                   // your messages\r\n                    return (\r\n                        <div className='chatScreen_message_reply'>\r\n                        <Avatar className='chatScreen_image'\r\n                        alt={content.name} src={props.friend_image} onClick={onOpen}/>\r\n                        <div className='chatScreen_text'>\r\n                        <p className='chatScreen_reply'>{content.content}<br/>\r\n                        <small>\r\n                        {content.timestamp.substring(0,16)}\r\n                        </small></p>\r\n                    </div>\r\n                    </div>\r\n                    )\r\n                }\r\n            }\r\n        })}\r\n            </ul>\r\n\r\n        <div>\r\n            <form className='chatScreen_input' onSubmit={onSubmit}>\r\n                <label for=\"file-upload\" class=\"custom-file-upload\" style={{marginTop: 'auto'}}>\r\n                    <AttachFileIcon/>\r\n                </label>\r\n                <input type='file' name='image' accept=\"audio/*, .pdf, .txt, .gif, .docx, .xlsx, .pptx, .pps\" size=\"60\"\r\n                id=\"file-upload\" onChange={file_handler}/>\r\n\r\n                \r\n                <label for=\"image-upload\" class=\"custom-file-upload\" style={{marginTop: 'auto'}}>\r\n                    <ImageIcon/>\r\n                </label>\r\n                <div className='chatScreen_input_field' style={sendingImages.length>0?{border:'solid aqua'}:{}}>\r\n                    {sendingFiles.length>0? sendingFiles.map(file =>\r\n                        <div className='chatScreen_file_outer'>\r\n                            <InsertDriveFileIcon className='chatScreen_file_icon'/>\r\n                            <p1>{file.name}</p1>\r\n                            \r\n                </div>):<></>}\r\n                    {sendingImages.length > 0? sendingImages.map(image => <img src={image.file}/>):<></>}\r\n                    <input type='file' name='image' accept=\"image/*, video/*\" size=\"60\"\r\n                    id=\"image-upload\" onChange={image_handler}/>\r\n                    <TextareaAutosize className='chatScreen_input_text' rowsMax={4} placeholder=\"Message\" onChange={onChange}/>\r\n                </div>\r\n                <button className='chatScreen_submit' type='submit'>SEND</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nconst mapstateToProps = (state, objects) => {\r\n    return {\r\n        name: state.auth_reducer.name,\r\n        ChatID: objects.match.params.ChatID,\r\n        friend: objects.match.params.friend,\r\n        friend_image: state.chat_reducer.friend_image,\r\n        when_matched: state.chat_reducer.when_matched,\r\n        friend_profile_id: state.chat_reducer.friend_profile_id,\r\n        messages: state.chat_reducer.messages,\r\n        files: state.chat_reducer.files,\r\n        contents: time_orderer(state.chat_reducer.files, state.chat_reducer.messages)\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        fetch_messages: (messages) => dispatch(chat_actions.setMessages(messages)),\r\n        new_message: (message) => dispatch(chat_actions.addMessage(message))\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapstateToProps, mapDispatchToProps)(ChatScreen)\r\n","import React, {useState}from 'react'\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport '../assets/Chat/ChatPanel.css'\r\nimport {Link} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport * as chat_actions from '../store/actions/chat_action'\r\nimport time_handler from './TimeHandler'\r\nimport FriendProfile from './FriendProfile'\r\n\r\n\r\nfunction ChatPanel(props) {\r\n\r\n    const link = `chat/${props.friend_data.name}/${props.friend_data.Chat_ID}/`\r\n    function handleClick() {\r\n        const matched_day = props.friend_data.when_matched.split('T')[0]\r\n        props.set_friend(props.friend_data.image, matched_day, props.friend_data.profile_id)\r\n    }\r\n    const [popup, setPopup] = useState(false)\r\n\r\n    function onOpen() {\r\n        setPopup(true)\r\n    }\r\n    function onClose() {\r\n        setPopup(false)\r\n    }\r\n\r\n    return (\r\n        \r\n        <div className='chatpanel'>\r\n            <Avatar className='chatpanel_image' alt={props.friend_data.name}\r\n            src={props.friend_data.image} onClick={onOpen}/>\r\n            <Link to={link} onClick={handleClick} className='chatpanel_link'>\r\n            <div className='chatpanel_detail'>\r\n                <h2>{props.friend_data.name}</h2>\r\n                <p>{props.friend_data.last_message}</p>\r\n            </div>\r\n            <p className='chatpanel_timestamp'>{time_handler(props.friend_data.last_timestamp)}</p>\r\n            </Link>\r\n            <FriendProfile onClose={setPopup} popup={popup} friend_profile_id={props.friend_data.profile_id}/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        set_friend: (picture, when_matched, friend_profile_id) => \r\n        dispatch(chat_actions.set_friend(picture, when_matched, friend_profile_id))\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(ChatPanel)\r\n","import React, {useEffect, useState}from 'react'\r\nimport ChatPanel from './ChatPanel'\r\nimport Header from '../Swipe/Header'\r\nimport {connect } from 'react-redux'\r\nimport axios from 'axios'\r\nfunction ChatPanels(props) {\r\n    const [friends, setFriends] = useState([])\r\n    useEffect(() => {\r\n        axios.defaults.headers = {\r\n            \"Content-Type\": 'application/json'\r\n        }\r\n        axios.get(`${process.env.REACT_APP_API_URL}/chat-api/chat/${props.id}/`)\r\n        .then(res => {\r\n            setFriends([...friends, ...res.data.chats_list])\r\n        }\r\n        )},\r\n         [])\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            {/* {console.log('friends::',friends[0].participants)} */}\r\n            <Header/>\r\n            <h1 className='chatpanel_title'>Messages</h1>\r\n                <div className='chats'>\r\n                    {friends.map(friend => (\r\n                            <ChatPanel friend_data={friend}/>\r\n                        )\r\n                    )}\r\n                    {friends.length === 0?<h2 className='chatpanel_nomatch'>You don't have any matches yet(;;)\r\n                    <br/>Let's Swipe!!</h2>:<></>}\r\n                </div>\r\n        </div>\r\n    )\r\n}\r\nconst mapstateToProps = state => {\r\n    return {\r\n        username: state.auth_reducer.name,\r\n        id: state.auth_reducer.id\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapstateToProps, null)(ChatPanels)\r\n\r\n//Authorization `Token ${token}\r\n\r\n\r\n","import openSocket from 'socket.io-client';\r\nimport Peer from 'peerjs';\r\n\r\n\r\nlet socketInstance = null;\r\nlet peers = {};\r\nlet streamContainer = {}\r\nlet myID = '';\r\n\r\n\r\nconst initializePeerConnection = () => {\r\n    // return new Peer('', {\r\n    //     host: 'localhost', \r\n    //     port: 9000,                \r\n    //     secure: false //secure=true is https and wss. secure=false is http and ws\r\n    // });\r\n    return new Peer()\r\n}\r\nconst initializeSocketConnection = () => {\r\n    const socket = openSocket('http://localhost:5000');\r\n    return socket\r\n}\r\n\r\nconst createVideo = (createObj) => {\r\n    console.log('video created')\r\n    console.log('createobj::', createObj)\r\n    if (!streamContainer[createObj.id]) {\r\n        streamContainer[createObj.id] = {\r\n            ...createObj,\r\n        };\r\n        const roomContainer = document.getElementById('room-container');\r\n        const videoContainer = document.createElement('div');\r\n        const video = document.createElement('video');\r\n        video.srcObject = streamContainer[createObj.id].stream;\r\n        video.id = createObj.id;\r\n        video.autoplay = true;\r\n        if (myID === createObj.id) {\r\n            video.muted = true;\r\n            video.className = 'my_video'\r\n        }\r\n        videoContainer.appendChild(video)\r\n        roomContainer.append(videoContainer);\r\n    } else {\r\n        const video = document.getElementById(createObj.id)\r\n        video.srcObject = createObj.stream\r\n    }\r\n}\r\n\r\nconst removeVideo = (id) => {\r\n    delete streamContainer[id];\r\n    const video = document.getElementById(id);\r\n    if (video) video.remove();\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Connection {\r\n    videoContainer = {};\r\n    message = [];\r\n    settings;\r\n    streaming = false;\r\n    myPeer;\r\n    socket;\r\n    myID = '';\r\n    constructor(settings) {\r\n        this.settings = settings;\r\n        this.myPeer = initializePeerConnection();\r\n        this.socket = initializeSocketConnection();\r\n        this.initializeSocketEvents();\r\n        this.initializePeersEvents();\r\n    }\r\n    initializeSocketEvents = () => {\r\n        this.socket.on('connect', () => {\r\n            console.log('socket connected');\r\n        });\r\n        this.socket.on('user-disconnected', (userID) => {\r\n            console.log('user disconnected-- closing peers', userID);\r\n            peers[userID] && peers[userID].close();\r\n            removeVideo(userID);\r\n        });\r\n        this.socket.on('disconnect', () => {\r\n            console.log('socket disconnected --');\r\n        });\r\n        this.socket.on('error', (err) => {\r\n            console.log('socket error --', err);\r\n        });\r\n    }\r\n    initializePeersEvents = () => {\r\n        this.myPeer.on('open', (id) => {\r\n            myID = id;\r\n            const roomID = window.location.pathname.split('/')[2];\r\n            const userData = {\r\n                userID: id, roomID\r\n            }\r\n            console.log('mydata::', userData)\r\n            this.socket.emit('join-room', userData);\r\n            this.setNavigatorToStream();\r\n        });\r\n        this.myPeer.on('error', (err) => {\r\n            console.log('peer connection error', err);\r\n            this.myPeer.reconnect();\r\n        })\r\n    }\r\n    setNavigatorToStream = () => {\r\n        this.getVideoAudioStream().then((stream) => {\r\n            if (stream) {\r\n                this.streaming = true;\r\n                this.createVideo({ id: myID, stream });\r\n                this.setPeersListeners(stream);\r\n                this.newUserConnection(stream);\r\n            }\r\n        })\r\n    }\r\n    getVideoAudioStream = (video=true, audio=true) => {\r\n        let quality = this.settings.params?.quality;\r\n        if (quality) quality = parseInt(quality);\r\n        const myNavigator = navigator.mediaDevices.getUserMedia || \r\n        navigator.mediaDevices.webkitGetUserMedia || \r\n        navigator.mediaDevices.mozGetUserMedia || \r\n        navigator.mediaDevices.msGetUserMedia;\r\n        return myNavigator({\r\n            video: video ? {\r\n                frameRate: quality ? quality : 12,\r\n                noiseSuppression: true,\r\n                width: {min: 640, ideal: 1280, max: 1920},\r\n                height: {min: 480, ideal: 720, max: 1080}\r\n            } : false,\r\n            audio: audio,\r\n        });\r\n    }\r\n    createVideo = (createObj) => {\r\n        console.log('video created')\r\n        if (!streamContainer[createObj.id]) {\r\n            streamContainer[createObj.id] = {\r\n                ...createObj,\r\n            };\r\n            const roomContainer = document.getElementById('room-container');\r\n            const videoContainer = document.createElement('div');\r\n            const video = document.createElement('video');\r\n            video.srcObject = streamContainer[createObj.id].stream;\r\n            video.id = createObj.id;\r\n            video.autoplay = true;\r\n            if (myID === createObj.id) {\r\n                video.muted = true;\r\n                video.className = 'my_video'\r\n            }\r\n            videoContainer.appendChild(video)\r\n            roomContainer.append(videoContainer);\r\n        } else {\r\n            const video = document.getElementById(createObj.id)\r\n            video.srcObject = createObj.stream\r\n        }\r\n    }\r\n    setPeersListeners = (stream) => {\r\n        //stream is my stream\r\n        this.myPeer.on('call', function(call) {\r\n            console.log('answered!!')\r\n            call.answer(stream);\r\n            call.on('stream', (userVideoStream) => {\r\n                console.log('user stream data', userVideoStream)\r\n                console.log(call.metadata)\r\n                createVideo({ id:call.metadata.id, stream:userVideoStream})\r\n            });\r\n            call.on('close', () => {\r\n                console.log('closing peers listeners', call.metadata.id);\r\n                removeVideo(call.metadata.id);\r\n            });\r\n            call.on('error', () => {\r\n                console.log('peer error ------');\r\n                removeVideo(call.metadata.id);\r\n            });\r\n            peers[call.metadata.id] = call;\r\n        });\r\n    }\r\n    newUserConnection = (stream) => {\r\n        //stream is my stream\r\n        this.socket.on('new-user-connect', (userData) => {\r\n            this.connectToNewUser(userData, stream);\r\n        });\r\n    }\r\n    connectToNewUser(userData, stream) {\r\n        console.log('connectTonewUser is called')\r\n        const { userID } = userData;\r\n        const call = this.myPeer.call(userID, stream, { metadata: { id: myID }} );\r\n        console.log('your data:: new user connected', userData)\r\n        call.on('stream', (userVideoStream) => {\r\n            //userVideoStream is your stream\r\n            console.log('your stream::', userVideoStream)\r\n            this.createVideo({ id: userID, stream: userVideoStream, userData });\r\n        });\r\n        call.on('close', () => {\r\n            console.log('closing new user', userID);\r\n            removeVideo(userID);\r\n        });\r\n        call.on('error', () => {\r\n            console.log('peer error ------')\r\n            removeVideo(userID);\r\n        })\r\n        peers[userID] = call;\r\n    }\r\n    removeVideo = (id) => {\r\n        delete this.videoContainer[id];\r\n        const video = document.getElementById(id);\r\n        if (video) video.remove();\r\n    }\r\n    destroyConnection = () => {\r\n        const myMediaTracks = this.videoContainer[this.myID]?.stream.getTracks();\r\n        myMediaTracks?.forEach((track) => {\r\n            track.stop();\r\n        })\r\n        socketInstance?.socket.disconnect();\r\n        this.myPeer.destroy();\r\n    }\r\n}\r\n\r\nexport default function createSocketConnectionInstance(settings={}) {\r\n    return socketInstance = new Connection(settings)}","import React, {useRef, useState, useEffect} from 'react'\r\nimport '../assets/Chat/Video.css'\r\nimport createSocketConnectionInstance from './connection2'\r\nimport { connect } from 'react-redux'\r\n\r\nfunction Video(props) {\r\n    const handleDisconnect = () => {\r\n        if (socketInstance.current) socketInstance.current.destroyConnection();\r\n        props.history.push('/chatpanel')\r\n    }\r\n\r\n    let socketInstance = useRef(null);    \r\n    useEffect(() => {\r\n        startConnection();\r\n    }, []);\r\n    const startConnection = () => {\r\n        const params = {quality: 12}\r\n        socketInstance.current = createSocketConnectionInstance({\r\n            params\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n        <div id='room-container'></div>\r\n        <button onClick={handleDisconnect}>Disconnect</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state, object) => {\r\n    return {\r\n        state: state,\r\n        object: object,\r\n        quality: object.location.search.split('=')[-1]\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,null)(Video)","import React, { useEffect }from 'react'\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport {connect} from 'react-redux'\r\nimport * as auth_actions from './store/actions/auth_action'\r\n\r\nimport Home from './Authentication/Home'\r\nimport Login from './Authentication/Login'\r\nimport Signup from './Authentication/Signup'\r\nimport Activate from './Authentication/Activate'\r\nimport PasswordReset from './Authentication/PasswordReset'\r\nimport PasswordResetConfirm from './Authentication/PasswordResetConfirm'\r\n\r\nimport Cards from './Swipe/Cards'\r\nimport Match from './Swipe/Match'\r\n\r\nimport Setting from './Setting/Setting'\r\nimport Editor from './Setting/Editor'\r\nimport DeleteImageModal from './Setting/DeleteImageModal'\r\n\r\n\r\nimport Chat from './Chat/Chat'\r\nimport ChatPanels from './Chat/ChatPanels'\r\n\r\nimport Video from './Video/Video'\r\n\r\n\r\nconst App = (props) => {\r\n\r\n    useEffect(() => {\r\n        props.checkAuthenticated();\r\n    })\r\n\r\n        return(\r\n            <Router>\r\n              <Switch>\r\n                    <Route exact path='/' component={Home} />\r\n                    <Route exact path='/login' component={Login} />\r\n                    <Route exact path='/signup' component={Signup} />\r\n                    <Route exact path='/reset_password' component={PasswordReset} />\r\n                    <Route exact path='/password/reset/confirm/:uid/:token' component={PasswordResetConfirm} />\r\n                    <Route exact path='/activate/:uid/:token' component={Activate} />\r\n                    <Route exact path=\"/chat/:friend/:ChatID\" component={Chat}/>\r\n                    <Route exact path=\"/join/:room\" component={Video}/>\r\n                    <Route exact path='/swipe' component={Cards}/>\r\n                    <Route exact path='/setting' component={Setting}/>\r\n                    <Route exact path='/chatpanel' component={ChatPanels}/>\r\n                    <Route exact path='/edit' component={Editor}/>\r\n                    <Route exact path='/match' component={Match}/>\r\n                    <Route exact path='/delete' component={DeleteImageModal}/>\r\n              </Switch>\r\n            </Router>\r\n        );\r\n}\r\n  \r\n\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        checkAuthenticated: () => dispatch(auth_actions.checkAuthenticated)\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(App)\r\n","// import React, { useEffect }from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport React from 'react'\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport 'antd/dist/antd.css';\r\nimport reducer from './store/reducers/index';\r\nimport App from './App';\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from 'redux-thunk';\r\n\r\n\r\nconst initialState = {}\r\nconst middelware = [thunk]\r\nconst store = createStore(\r\n    reducer,\r\n    initialState,\r\n    composeWithDevTools(applyMiddleware(...middelware))\r\n)\r\n\r\nconst app = \r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>\r\n\r\n\r\n\r\nReactDOM.render(app, document.getElementById(\"root\"));"],"sourceRoot":""}